import{j as e}from"./three-vendor-B1QmBiaA-1764456773728.js";import{r as t,L as a}from"./react-vendor-Jz9jFFXE-1764456773728.js";import{u as r,k as s}from"./redux-vendor-CG0G_age-1764456773728.js";import{am as l,an as i,ao as o,ap as d,R as n,aq as c,s as x,H as m,ar as g,e as h,X as u,as as p}from"./index-qr3Rj3BR-1764456773728.js";import{m as y}from"./ui-vendor-CwvxSOeX-1764456773728.js";import{R as v,A as b,C as j,X as f,Y as N,T as k,a as w,P as C,b as R,c as S}from"./chart-vendor-D_ZGHZKE-1764456773728.js";import"./web3-vendor-C_W-_4Lr-1764456773728.js";const $=["#6366f1","#ec4899","#f59e0b","#10b981","#8b5cf6"],A=({title:t,value:a,change:r,icon:s,color:l,isLoading:i})=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`p-3 rounded-xl ${l}`,children:e.jsx(s,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold "+(r>=0?"text-green-500":"text-red-500"),children:[r>=0?e.jsx(u,{}):e.jsx(p,{}),Math.abs(r),"%"]})]}),e.jsx("h3",{className:"mt-4 text-gray-500 dark:text-gray-400 text-sm font-medium",children:t}),e.jsx("p",{className:"mt-1 text-3xl font-bold text-gray-900 dark:text-white",children:i?"...":a})]}),F=()=>{var u,p,F,L;const O=r(),{stats:P,statsLoading:T,orders:M,products:D}=s(e=>e.admin),[K,U]=t.useState(!1);t.useEffect(()=>{O(l()),O(i({limit:5})),O(o({limit:5}))},[O]);const _=(null==P?void 0:P.revenueChart)||[{month:"Jan",revenue:4e3,orders:240},{month:"Feb",revenue:3e3,orders:198},{month:"Mar",revenue:5e3,orders:310},{month:"Apr",revenue:4500,orders:280},{month:"May",revenue:6e3,orders:390},{month:"Jun",revenue:5500,orders:350}],E=(null==P?void 0:P.categoryDistribution)||[{name:"Electronics",value:400,color:"#6366f1"},{name:"Fashion",value:300,color:"#ec4899"},{name:"Home",value:200,color:"#f59e0b"},{name:"Sports",value:150,color:"#10b981"}],H=[{title:"Total Revenue",value:`$${(null==(u=null==P?void 0:P.totalRevenue)?void 0:u.toLocaleString())||"0"}`,change:(null==P?void 0:P.revenueChange)||12.5,icon:d,color:"bg-gradient-to-br from-green-400 to-green-600"},{title:"Total Orders",value:(null==(p=null==P?void 0:P.totalOrders)?void 0:p.toLocaleString())||"0",change:(null==P?void 0:P.ordersChange)||8.2,icon:n,color:"bg-gradient-to-br from-blue-400 to-blue-600"},{title:"Total Users",value:(null==(F=null==P?void 0:P.totalUsers)?void 0:F.toLocaleString())||"0",change:(null==P?void 0:P.usersChange)||23.1,icon:c,color:"bg-gradient-to-br from-purple-400 to-purple-600"},{title:"Total Products",value:(null==(L=null==P?void 0:P.totalProducts)?void 0:L.toLocaleString())||"0",change:(null==P?void 0:P.productsChange)||5.4,icon:x,color:"bg-gradient-to-br from-orange-400 to-orange-600"}];return e.jsxs(e.Fragment,{children:[e.jsx(m,{children:e.jsx("title",{children:"Admin Dashboard - NexusMart"})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard Overview"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Monitor your store's performance"})]}),e.jsxs("button",{onClick:async()=>{U(!0),await Promise.all([O(l()),O(i({limit:5})),O(o({limit:5}))]),U(!1)},disabled:K,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:[e.jsx(g,{className:"w-4 h-4 "+(K?"animate-spin":"")}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:H.map((t,a)=>e.jsx(A,{...t,isLoading:T},a))}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6",children:"Revenue Overview"}),e.jsx(v,{width:"100%",height:300,children:e.jsxs(b,{data:_,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),e.jsx(j,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(f,{dataKey:"month",stroke:"#9CA3AF"}),e.jsx(N,{stroke:"#9CA3AF"}),e.jsx(k,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}}),e.jsx(w,{type:"monotone",dataKey:"revenue",stroke:"#6366f1",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6",children:"Sales by Category"}),e.jsx(v,{width:"100%",height:300,children:e.jsxs(C,{children:[e.jsx(R,{data:E,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,children:E.map((t,a)=>e.jsx(S,{fill:t.color||$[a%$.length]},`cell-${a}`))}),e.jsx(k,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"}})]})})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Recent Orders"}),e.jsxs(a,{to:"/admin/orders",className:"flex items-center gap-1 text-primary-600 hover:text-primary-700 text-sm font-medium",children:["View All ",e.jsx(h,{})]})]}),e.jsxs("div",{className:"space-y-4",children:[M.slice(0,5).map(t=>{var a,r,s,l;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.orderNumber||`#${t._id.slice(-6).toUpperCase()}`}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null==(a=t.user)?void 0:a.firstName)||"Customer"," ",(null==(r=t.user)?void 0:r.lastName)||""]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["$",(null==(s=t.totalPrice)?void 0:s.toFixed(2))||"0.00"]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full capitalize ${l=t.orderStatus,{processing:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",shipped:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",delivered:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}[l]||"bg-gray-100 text-gray-800"}`,children:t.orderStatus})]})]},t._id)}),0===M.length&&e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No recent orders"})]})]}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Top Products"}),e.jsxs(a,{to:"/admin/products",className:"flex items-center gap-1 text-primary-600 hover:text-primary-700 text-sm font-medium",children:["View All ",e.jsx(h,{})]})]}),e.jsxs("div",{className:"space-y-4",children:[D.slice(0,5).map(t=>{var a,r;return e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e.jsx("img",{src:(null==(r=null==(a=t.images)?void 0:a[0])?void 0:r.url)||"/placeholder-product.png",alt:t.name,className:"w-12 h-12 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Stock: ",t.stock," | Sold: ",t.purchases||0]})]}),e.jsxs("p",{className:"font-bold text-primary-600 dark:text-primary-400",children:["$",t.price]})]},t._id)}),0===D.length&&e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No products found"})]})]})]})]})]})};export{F as default};
