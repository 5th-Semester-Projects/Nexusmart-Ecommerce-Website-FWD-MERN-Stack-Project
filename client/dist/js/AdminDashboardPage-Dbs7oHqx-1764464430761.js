import{j as e}from"./three-vendor-DNeBlDr0-1764464430761.js";import{r,L as s}from"./react-vendor-Jz9jFFXE-1764464430761.js";import{u as t,k as l}from"./redux-vendor-zZ68lUA_-1764464430761.js";import{au as a,av as o,aw as i,a7 as d,R as n,ax as c,s as x,H as p,ay as m,e as u,X as h,az as b}from"./index-BPzILaJx-1764464430761.js";import{m as g}from"./ui-vendor-DHdtVh4W-1764464430761.js";import{R as v,A as j,C as y,X as f,Y as N,T as w,a as k,P as C,b as R,c as S}from"./chart-vendor-CUsCb9Xe-1764464430761.js";import"./web3-vendor-DxwNxCkW-1764464430761.js";const $=["#8b5cf6","#ec4899","#06b6d4","#10b981","#f59e0b"],O=({title:r,value:s,change:t,icon:l,color:a,isLoading:o})=>e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900/50 backdrop-blur-xl border border-purple-500/20 rounded-2xl p-6 hover:border-purple-500/40 hover:shadow-lg hover:shadow-purple-500/10 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`p-3 rounded-xl ${a}`,children:e.jsx(l,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold "+(t>=0?"text-green-400":"text-red-400"),children:[t>=0?e.jsx(h,{}):e.jsx(b,{}),Math.abs(t),"%"]})]}),e.jsx("h3",{className:"mt-4 text-purple-300 text-sm font-medium",children:r}),e.jsx("p",{className:"mt-1 text-3xl font-bold text-white",children:o?"...":s})]}),L=()=>{var h,b,L,F;const P=t(),{stats:T,statsLoading:A,orders:M,products:D}=l(e=>e.admin),[K,U]=r.useState(!1);r.useEffect(()=>{P(a()),P(o({limit:5})),P(i({limit:5}))},[P]);const _=(null==T?void 0:T.revenueChart)||[{month:"Jan",revenue:4e3,orders:240},{month:"Feb",revenue:3e3,orders:198},{month:"Mar",revenue:5e3,orders:310},{month:"Apr",revenue:4500,orders:280},{month:"May",revenue:6e3,orders:390},{month:"Jun",revenue:5500,orders:350}],z=(null==T?void 0:T.categoryDistribution)||[{name:"Electronics",value:400,color:"#6366f1"},{name:"Fashion",value:300,color:"#ec4899"},{name:"Home",value:200,color:"#f59e0b"},{name:"Sports",value:150,color:"#10b981"}],E=[{title:"Total Revenue",value:`$${(null==(h=null==T?void 0:T.totalRevenue)?void 0:h.toLocaleString())||"0"}`,change:(null==T?void 0:T.revenueChange)||12.5,icon:d,color:"bg-gradient-to-br from-green-400 to-green-600"},{title:"Total Orders",value:(null==(b=null==T?void 0:T.totalOrders)?void 0:b.toLocaleString())||"0",change:(null==T?void 0:T.ordersChange)||8.2,icon:n,color:"bg-gradient-to-br from-blue-400 to-blue-600"},{title:"Total Users",value:(null==(L=null==T?void 0:T.totalUsers)?void 0:L.toLocaleString())||"0",change:(null==T?void 0:T.usersChange)||23.1,icon:c,color:"bg-gradient-to-br from-purple-400 to-purple-600"},{title:"Total Products",value:(null==(F=null==T?void 0:T.totalProducts)?void 0:F.toLocaleString())||"0",change:(null==T?void 0:T.productsChange)||5.4,icon:x,color:"bg-gradient-to-br from-orange-400 to-orange-600"}];return e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsx("title",{children:"Admin Dashboard - NexusMart"})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold gradient-text",style:{fontFamily:"Orbitron, sans-serif"},children:"Dashboard Overview"}),e.jsx("p",{className:"text-purple-300",children:"Monitor your store's performance"})]}),e.jsxs("button",{onClick:async()=>{U(!0),await Promise.all([P(a()),P(o({limit:5})),P(i({limit:5}))]),U(!1)},disabled:K,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-cyan-600 text-white rounded-xl hover:from-purple-500 hover:to-cyan-500 transition-all disabled:opacity-50 shadow-lg shadow-purple-500/30",children:[e.jsx(m,{className:"w-4 h-4 "+(K?"animate-spin":"")}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:E.map((r,s)=>e.jsx(O,{...r,isLoading:A},s))}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-900/50 backdrop-blur-xl border border-purple-500/20 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Revenue Overview"}),e.jsx(v,{width:"100%",height:300,children:e.jsxs(j,{data:_,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),e.jsx(y,{strokeDasharray:"3 3",stroke:"#6b21a8",opacity:.2}),e.jsx(f,{dataKey:"month",stroke:"#a855f7"}),e.jsx(N,{stroke:"#a855f7"}),e.jsx(w,{contentStyle:{backgroundColor:"#1e1b4b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",color:"#fff"}}),e.jsx(k,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-900/50 backdrop-blur-xl border border-purple-500/20 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Sales by Category"}),e.jsx(v,{width:"100%",height:300,children:e.jsxs(C,{children:[e.jsx(R,{data:z,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:e,percent:r})=>`${e} ${(100*r).toFixed(0)}%`,children:z.map((r,s)=>e.jsx(S,{fill:r.color||$[s%$.length]},`cell-${s}`))}),e.jsx(w,{contentStyle:{backgroundColor:"#1e1b4b",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",color:"#fff"}})]})})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gray-900/50 backdrop-blur-xl border border-purple-500/20 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Recent Orders"}),e.jsxs(s,{to:"/admin/orders",className:"flex items-center gap-1 text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:["View All ",e.jsx(u,{})]})]}),e.jsxs("div",{className:"space-y-4",children:[M.slice(0,5).map(r=>{var s,t,l,a;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-500/10 border border-purple-500/20 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:r.orderNumber||`#${r._id.slice(-6).toUpperCase()}`}),e.jsxs("p",{className:"text-sm text-purple-300",children:[(null==(s=r.user)?void 0:s.firstName)||"Customer"," ",(null==(t=r.user)?void 0:t.lastName)||""]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-cyan-400",children:["$",(null==(l=r.totalPrice)?void 0:l.toFixed(2))||"0.00"]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full capitalize ${a=r.orderStatus,{processing:"bg-blue-500/20 text-blue-400 border border-blue-500/30",shipped:"bg-purple-500/20 text-purple-400 border border-purple-500/30",delivered:"bg-green-500/20 text-green-400 border border-green-500/30",cancelled:"bg-red-500/20 text-red-400 border border-red-500/30",pending:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}[a]||"bg-gray-500/20 text-gray-400"}`,children:r.orderStatus})]})]},r._id)}),0===M.length&&e.jsx("p",{className:"text-center text-purple-300 py-8",children:"No recent orders"})]})]}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gray-900/50 backdrop-blur-xl border border-purple-500/20 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Top Products"}),e.jsxs(s,{to:"/admin/products",className:"flex items-center gap-1 text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:["View All ",e.jsx(u,{})]})]}),e.jsxs("div",{className:"space-y-4",children:[D.slice(0,5).map(r=>{var s,t;return e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-purple-500/10 border border-purple-500/20 rounded-xl",children:[e.jsx("img",{src:(null==(t=null==(s=r.images)?void 0:s[0])?void 0:t.url)||"/placeholder-product.png",alt:r.name,className:"w-12 h-12 rounded-lg object-cover border border-purple-500/30"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate",children:r.name}),e.jsxs("p",{className:"text-sm text-purple-300",children:["Stock: ",r.stock," | Sold: ",r.purchases||0]})]}),e.jsxs("p",{className:"font-bold text-cyan-400",children:["$",r.price]})]},r._id)}),0===D.length&&e.jsx("p",{className:"text-center text-purple-300 py-8",children:"No products found"})]})]})]})]})]})};export{L as default};
