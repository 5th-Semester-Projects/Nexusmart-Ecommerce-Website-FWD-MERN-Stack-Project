import{j as e}from"./three-vendor-DtOeTE3i-1766786756940.js";import{r as s,L as t}from"./react-vendor-Jz9jFFXE-1766786756940.js";import{ba as a,br as r,bp as l,bf as i,be as o,a as n,bs as c,bt as d}from"./index-DbxYql3u-1766786756940.js";import{U as x}from"./PriceHistoryChart-DKvz9MLr-1766786756940.js";import{A as m,m as p}from"./ui-vendor-Ck8UntsH-1766786756940.js";import"./redux-vendor-E0j4NC30-1766786756940.js";const h=({userId:d})=>{const[x,h]=s.useState([]),[u,g]=s.useState(!0),[y,b]=s.useState("all");s.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:e}=await a.get("/api/v1/analytics/personalized-deals");h(e.deals)}catch(e){h(j)}finally{g(!1)}},j=[{id:1,type:"flash",title:"Flash Deal for You!",description:"Based on your interest in electronics",discount:40,code:"TECH40",product:{name:"Wireless Earbuds Pro",originalPrice:7999,salePrice:4799,image:null},expiresIn:36e5,category:"electronics"},{id:2,type:"personal",title:"Special Offer",description:"You viewed this product 3 times",discount:25,code:"FORYOU25",product:{name:"Running Shoes Nike",originalPrice:12999,salePrice:9749,image:null},expiresIn:864e5,category:"sports"},{id:3,type:"bundle",title:"Bundle Deal",description:"Complete your collection",discount:35,code:null,product:{name:"Smart Watch + Band",originalPrice:15999,salePrice:10399,image:null},expiresIn:1728e5,category:"electronics"},{id:4,type:"loyalty",title:"Loyalty Reward",description:"Thank you for being a loyal customer",discount:20,code:"LOYAL20",product:null,expiresIn:6048e5,category:"all"},{id:5,type:"comeback",title:"We Miss You!",description:"Here's a special welcome back offer",discount:30,code:"COMEBACK30",product:null,expiresIn:2592e5,category:"all"}],N=e=>{const s=Math.floor(e/36e5),t=Math.floor(s/24);return t>0?`${t}d left`:s>0?`${s}h left`:"Ending soon!"},v={flash:n,personal:o,bundle:i,loyalty:l,comeback:r},w={flash:"from-red-600 to-orange-500",personal:"from-purple-600 to-pink-500",bundle:"from-blue-600 to-cyan-500",loyalty:"from-green-600 to-emerald-500",comeback:"from-yellow-600 to-orange-500"},k="all"===y?x:x.filter(e=>e.category===y||"all"===e.category);return u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-2xl p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(r,{className:"text-pink-500"})," Deals Just For You"]}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Personalized offers based on your preferences"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:["all","electronics","sports","fashion","home"].map(s=>e.jsx("button",{onClick:()=>b(s),className:"px-4 py-2 rounded-full whitespace-nowrap transition-colors "+(y===s?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(m,{mode:"wait",children:k.map((s,t)=>{const a=v[s.type]||r;return e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*t},className:"relative overflow-hidden rounded-xl bg-gray-800/50 border border-gray-700/50 group",children:[e.jsxs("div",{className:`bg-gradient-to-r ${w[s.type]} p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"text-white text-xl"}),e.jsx("span",{className:"text-white font-semibold",children:s.title})]}),e.jsxs("span",{className:"text-white text-2xl font-bold",children:["-",s.discount,"%"]})]}),e.jsx("p",{className:"text-white/80 text-sm mt-1",children:s.description})]}),e.jsxs("div",{className:"p-4",children:[s.product&&e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center",children:e.jsx(i,{className:"text-gray-500 text-2xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold text-sm",children:s.product.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["Rs. ",s.product.originalPrice.toLocaleString()]}),e.jsxs("span",{className:"text-green-400 font-bold",children:["Rs. ",s.product.salePrice.toLocaleString()]})]})]})]}),s.code&&e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 mb-4 border-2 border-dashed border-gray-600",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Use Code"}),e.jsx("p",{className:"text-white font-mono font-bold text-lg",children:s.code})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-sm",children:[e.jsx(c,{}),e.jsx("span",{className:s.expiresIn<72e5?"text-red-400":"",children:N(s.expiresIn)})]}),e.jsx(p.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 py-2 rounded-lg font-semibold text-sm bg-gradient-to-r ${w[s.type]} text-white`,children:s.product?"Shop Now":"Apply"})]})]}),s.expiresIn<72e5&&e.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full animate-pulse",children:"Ending Soon!"})]},s.id)})})}),e.jsx(t,{to:"/deals",className:"block mt-6",children:e.jsx(p.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-xl",children:"View All Deals â†’"})})]})},u=()=>{const[t,a]=s.useState("dashboard"),l=[{id:"dashboard",label:"My Analytics",icon:d},{id:"deals",label:"Personalized Deals",icon:r}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/30 to-gray-900 py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 mb-4",children:e.jsx(d,{className:"text-4xl text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Analytics & Insights"}),e.jsx("p",{className:"text-gray-400",children:"Track your shopping patterns and get personalized recommendations"})]}),e.jsx("div",{className:"flex justify-center gap-4 mb-8",children:l.map(s=>{const r=s.icon;return e.jsxs(p.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(s.id),className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all "+(t===s.id?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg":"bg-gray-800/50 text-gray-400 hover:bg-gray-700/50"),children:[e.jsx(r,{}),s.label]},s.id)})}),e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["dashboard"===t&&e.jsx(x,{}),"deals"===t&&e.jsx(h,{})]},t)]})})};export{u as default};
