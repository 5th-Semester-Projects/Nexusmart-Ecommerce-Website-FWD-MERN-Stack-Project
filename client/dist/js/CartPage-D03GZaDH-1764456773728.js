import{j as e}from"./three-vendor-B1QmBiaA-1764456773728.js";import{u as s}from"./react-vendor-Jz9jFFXE-1764456773728.js";import{H as t,B as a,R as l,t as r,u as i,S as n,e as c,T as d,U as x}from"./index-qr3Rj3BR-1764456773728.js";import{u as o,k as p}from"./redux-vendor-CG0G_age-1764456773728.js";import{m,A as h,z as u}from"./ui-vendor-CwvxSOeX-1764456773728.js";import{M as j}from"./MagicalGenie-DI56ue29-1764456773728.js";const g=()=>{const g=o(),b=s(),{items:y}=p(e=>e.cart),{isAuthenticated:N}=p(e=>e.auth),v=y||[],f=(e,s)=>{s<1||(g(d({itemId:e,quantity:s})),u.success("üì¶ Quantity updated!",{style:{background:"linear-gradient(135deg, rgb(139, 92, 246), rgb(59, 130, 246))",color:"#fff",borderRadius:"12px"}}))},k=v.reduce((e,s)=>e+(s.price||0)*(s.quantity||1),0),F=k>100?0:15,w=.1*k,C=k+F+w;return 0===v.length?e.jsxs(e.Fragment,{children:[e.jsx(t,{children:e.jsx("title",{children:"Shopping Cart - NexusMart"})}),e.jsx("div",{className:"min-h-screen py-20",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-12 text-center rounded-3xl",children:[e.jsx(m.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-8xl mb-6",children:"üõí"}),e.jsx("h2",{className:"text-4xl font-bold gradient-text mb-4",style:{fontFamily:"Orbitron, sans-serif"},children:"Your Cart is Empty"}),e.jsx("p",{className:"text-purple-300/70 mb-8 text-lg",children:"Looks like you haven't added anything to your magical cart yet."}),e.jsx(a,{variant:"3d",size:"lg",icon:l,onClick:()=>b("/products"),children:"Start Shopping"})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{children:e.jsx("title",{children:`Shopping Cart (${(null==v?void 0:v.length)||0}) - NexusMart`})}),e.jsx("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-gray-950 via-cyan-950/10 to-gray-950"}),e.jsx(j,{}),e.jsx("div",{className:"min-h-screen py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold mb-2",style:{fontFamily:"Orbitron, sans-serif"},children:e.jsx("span",{className:"gradient-text",children:"Shopping Cart"})}),e.jsxs("p",{className:"text-purple-300/70 text-lg",children:[v.length," ",1===v.length?"item":"items"," in your magical cart"]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(h,{mode:"popLayout",children:v.map((s,t)=>{var a,l,c;const d=s._id||(null==(a=s.product)?void 0:a._id)||s.product,o=s.image||(null==(c=null==(l=s.images)?void 0:l[0])?void 0:c.url)||"/placeholder.jpg",p=s.name||"Product",h=s.price||0,j=s.quantity||1;return e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.1*t},className:"glass-card p-6 rounded-2xl",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"w-full sm:w-32 h-32 flex-shrink-0",children:e.jsx("img",{src:o,alt:p,className:"w-full h-full object-cover rounded-xl"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2",children:p}),e.jsxs("p",{className:"text-2xl font-bold gradient-text mb-4",children:["$",h.toFixed(2)]}),e.jsxs("div",{className:"flex items-center space-x-4 relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-3 bg-purple-500/10 border border-purple-500/30 rounded-xl p-2",children:[e.jsx("button",{onClick:()=>f(d,j-1),className:"w-8 h-8 bg-purple-500/20 hover:bg-purple-500/30 rounded-lg\r\n                                       text-purple-300 hover:text-cyan-400 transition-all duration-300\r\n                                       flex items-center justify-center cursor-pointer relative z-20",style:{pointerEvents:"auto"},children:e.jsx(r,{})}),e.jsx("span",{className:"text-lg font-bold text-purple-300 w-8 text-center",children:j}),e.jsx("button",{onClick:()=>f(d,j+1),className:"w-8 h-8 bg-purple-500/20 hover:bg-purple-500/30 rounded-lg\r\n                                       text-purple-300 hover:text-cyan-400 transition-all duration-300\r\n                                       flex items-center justify-center cursor-pointer relative z-20",style:{pointerEvents:"auto"},children:e.jsx(i,{})})]}),e.jsx("button",{onClick:()=>(e=>{g(x(e)),u.success("‚ú® Item removed from cart",{style:{background:"linear-gradient(135deg, rgb(220, 38, 38), rgb(190, 24, 93))",color:"#fff",borderRadius:"12px"}})})(d),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg\r\n                                     transition-all duration-300 cursor-pointer relative z-20",style:{pointerEvents:"auto"},children:e.jsx(n,{className:"text-xl"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-purple-300/50 text-sm mb-1",children:"Item Total"}),e.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["$",(h*j).toFixed(2)]})]})]})},d||t)})}),e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:e.jsx(a,{variant:"glass",onClick:()=>b("/products"),icon:l,children:"Continue Shopping"})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"glass-card p-6 rounded-2xl sticky top-24",children:[e.jsx("h3",{className:"text-2xl font-bold gradient-text mb-6",style:{fontFamily:"Orbitron, sans-serif"},children:"Order Summary"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-purple-300",children:[e.jsxs("span",{children:["Subtotal (",v.length," items)"]}),e.jsxs("span",{className:"font-semibold",children:["$",k.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-purple-300",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"font-semibold",children:0===F?e.jsx("span",{className:"text-green-400",children:"FREE"}):`$${F.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between text-purple-300",children:[e.jsx("span",{children:"Tax (10%)"}),e.jsxs("span",{className:"font-semibold",children:["$",w.toFixed(2)]})]}),e.jsx("div",{className:"border-t border-purple-500/30 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xl font-bold text-purple-300",children:"Total"}),e.jsxs("span",{className:"text-3xl font-bold gradient-text",children:["$",C.toFixed(2)]})]})})]}),F>0&&e.jsx("div",{className:"mb-6 p-4 bg-purple-500/10 border border-purple-500/30 rounded-xl",children:e.jsxs("p",{className:"text-sm text-purple-300",children:["üí° Add ",e.jsxs("span",{className:"font-bold text-cyan-400",children:["$",(100-k).toFixed(2)]})," more for FREE shipping!"]})}),e.jsx(a,{variant:"3d",fullWidth:!0,onClick:()=>{b(N?"/checkout":"/login?redirect=/checkout")},icon:c,className:"mb-4",children:"Proceed to Checkout"}),!N&&e.jsxs("p",{className:"text-sm text-purple-300/70 text-center",children:["Please ",e.jsx("span",{className:"text-cyan-400 cursor-pointer hover:underline",onClick:()=>b("/login"),children:"login"})," to checkout"]})]})})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"glass-card p-6 text-center rounded-2xl",children:[e.jsx("div",{className:"text-5xl mb-3",children:"üöö"}),e.jsx("h3",{className:"font-bold text-purple-300 mb-2",children:"Free Shipping"}),e.jsx("p",{className:"text-sm text-purple-300/70",children:"On orders over $100"})]}),e.jsxs("div",{className:"glass-card p-6 text-center rounded-2xl",children:[e.jsx("div",{className:"text-5xl mb-3",children:"üîí"}),e.jsx("h3",{className:"font-bold text-purple-300 mb-2",children:"Secure Payment"}),e.jsx("p",{className:"text-sm text-purple-300/70",children:"100% secure transactions"})]}),e.jsxs("div",{className:"glass-card p-6 text-center rounded-2xl",children:[e.jsx("div",{className:"text-5xl mb-3",children:"‚Ü©Ô∏è"}),e.jsx("h3",{className:"font-bold text-purple-300 mb-2",children:"Easy Returns"}),e.jsx("p",{className:"text-sm text-purple-300/70",children:"30-day return policy"})]})]})]})})]})};export{g as default};
