import{j as t}from"./three-vendor-CzW0C-3o.js";import{r as e,u as a}from"./react-vendor-CEWkFM1H.js";import{b as s,H as i,c as r,a2 as o,d as l,w as n,i as d,v as c,m as h,a3 as m,a0 as x,z as p,A as u,y as g}from"./index-D4fnEueO.js";import{u as f,d as b}from"./redux-vendor-DwxIzyaR.js";import{m as y,z as v}from"./ui-vendor-CDnMNP0Y.js";import{M as j}from"./MagicalGenie-CKiHkUoH.js";const w=({intensity:a="medium"})=>{const s=e.useRef(null),i="low"===a?20:"high"===a?45:32;return e.useEffect(()=>{const t=s.current;if(!t)return;const e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;class a{constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.initialY=this.y,this.size=4*Math.random()+2;const e=["#ef4444","#dc2626","#b91c1c","#f97316","#ea580c","#c2410c","#eab308","#ca8a04","#a16207","#06b6d4","#0891b2","#0e7490","#ec4899","#d946ef","#c026d3","#8b5cf6","#7c3aed","#6d28d9"];this.color=e[Math.floor(Math.random()*e.length)];const a=["lightning","fire","spark","comet","pulse","bolt"];this.type=a[Math.floor(Math.random()*a.length)],this.floatSpeed=.002+.004*Math.random(),this.floatAmount=25+35*Math.random(),this.floatPhase=Math.random()*Math.PI*2,this.driftSpeed=.06*(Math.random()-.5),this.initialX=this.x,this.driftAmount=20+35*Math.random(),this.driftPhase=Math.random()*Math.PI*2,this.opacitySpeed=.002+.003*Math.random(),this.opacityPhase=Math.random()*Math.PI*2,this.minOpacity=.25,this.maxOpacity=.7,this.rotation=360*Math.random(),this.rotationSpeed=.03*(Math.random()-.5),this.glowSize=15+25*Math.random(),this.pulsePhase=Math.random()*Math.PI*2,this.pulseSpeed=.002+.003*Math.random(),this.trail=[],this.maxTrailLength=5}update(){this.trail.push({x:this.x,y:this.y}),this.trail.length>this.maxTrailLength&&this.trail.shift(),this.floatPhase+=this.floatSpeed,this.y=this.initialY+Math.sin(this.floatPhase)*this.floatAmount,this.driftPhase+=this.driftSpeed,this.x=this.initialX+Math.sin(this.driftPhase)*this.driftAmount,this.opacityPhase+=this.opacitySpeed,this.opacity=this.minOpacity+(Math.sin(this.opacityPhase)+1)/2*(this.maxOpacity-this.minOpacity),this.rotation+=this.rotationSpeed,this.pulsePhase+=this.pulseSpeed,this.currentSize=this.size+1*Math.sin(this.pulsePhase)}drawLightning(){e.strokeStyle=this.color,e.fillStyle=this.color+"88",e.lineWidth=2,e.lineJoin="miter";const t=2*this.currentSize;e.beginPath(),e.moveTo(0,-t),e.lineTo(.3*t,.3*-t),e.lineTo(.1*t,0),e.lineTo(.5*t,.2*t),e.lineTo(0,t),e.lineTo(.2*-t,.4*t),e.lineTo(.1*-t,0),e.lineTo(.3*-t,.4*-t),e.closePath(),e.fill(),e.stroke()}drawFire(){const t=2*this.currentSize,a=e.createRadialGradient(0,.3*t,0,0,0,1.2*t);a.addColorStop(0,"#fbbf24"),a.addColorStop(.5,this.color),a.addColorStop(1,this.color+"00"),e.fillStyle=a,e.beginPath(),e.moveTo(0,-t),e.bezierCurveTo(.6*t,.5*-t,.4*t,.5*t,0,t),e.bezierCurveTo(.4*-t,.5*t,.6*-t,.5*-t,0,-t),e.fill()}drawSpark(){const t=this.currentSize,a=2.5*this.currentSize;e.fillStyle=this.color,e.beginPath();for(let s=0;s<16;s++){const i=s%2==0?a:t,r=s*Math.PI/8,o=Math.cos(r)*i,l=Math.sin(r)*i;0===s?e.moveTo(o,l):e.lineTo(o,l)}e.closePath(),e.fill()}drawComet(){const t=this.currentSize,a=e.createRadialGradient(0,0,0,0,0,1.5*t);a.addColorStop(0,this.color),a.addColorStop(.5,this.color+"aa"),a.addColorStop(1,this.color+"00"),e.beginPath(),e.arc(0,0,1.5*t,0,2*Math.PI),e.fillStyle=a,e.fill(),e.strokeStyle=this.color+"66",e.lineWidth=t,e.lineCap="round",e.beginPath(),e.moveTo(0,0),e.lineTo(3*-t,2*t),e.stroke()}drawPulse(){const t=2*this.currentSize;for(let a=0;a<3;a++){const s=t*(1+.5*a),i=(3-a)/3;e.strokeStyle=this.color+Math.floor(100*i).toString(16).padStart(2,"0"),e.lineWidth=2,e.beginPath(),e.arc(0,0,s,0,2*Math.PI),e.stroke()}e.fillStyle=this.color,e.beginPath(),e.arc(0,0,.5*t,0,2*Math.PI),e.fill()}drawBolt(){e.strokeStyle=this.color,e.lineWidth=2.5,e.lineCap="round";const t=2*this.currentSize;e.beginPath(),e.moveTo(0,-t);let a=0,s=-t;for(let i=0;i<6;i++){const i=s+2*t/6,r=a+(Math.random()-.5)*t*.6;e.lineTo(r,i),a=r,s=i}e.stroke(),e.shadowBlur=10,e.shadowColor=this.color,e.stroke()}draw(){if(e.save(),e.translate(this.x,this.y),e.rotate(this.rotation*Math.PI/180),e.globalAlpha=this.opacity,e.shadowBlur=this.glowSize,e.shadowColor=this.color,this.trail.length>1){e.globalAlpha=.3*this.opacity,e.strokeStyle=this.color,e.lineWidth=this.currentSize,e.lineCap="round",e.beginPath(),e.moveTo(this.trail[0].x-this.x,this.trail[0].y-this.y);for(let t=1;t<this.trail.length;t++)e.lineTo(this.trail[t].x-this.x,this.trail[t].y-this.y);e.stroke(),e.globalAlpha=this.opacity}switch(this.type){case"lightning":this.drawLightning();break;case"fire":this.drawFire();break;case"spark":this.drawSpark();break;case"comet":this.drawComet();break;case"pulse":this.drawPulse();break;case"bolt":this.drawBolt()}e.restore()}}const r=Array.from({length:i},()=>new a);let o;const l=()=>{e.clearRect(0,0,t.width,t.height),r.forEach(t=>{t.update(),t.draw()}),o=requestAnimationFrame(l)};l();const n=()=>{t.width=window.innerWidth,t.height=window.innerHeight};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),cancelAnimationFrame(o)}},[i]),t.jsxs(t.Fragment,{children:[t.jsx("canvas",{ref:s,className:"absolute inset-0 pointer-events-none",style:{opacity:.65}}),t.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:12}).map((e,a)=>t.jsx(y.div,{className:"absolute text-3xl font-bold",style:{left:(8*a+3)%95+"%",top:(10*a+5)%90+"%",color:["#ef4444","#f97316","#eab308","#06b6d4","#ec4899","#8b5cf6"][a%6],opacity:.15},animate:{y:[0,-30,0],x:[0,15*Math.sin(a),0],rotate:[0,360],scale:[.8,1.4,.8]},transition:{duration:7+.3*a,repeat:1/0,ease:"easeInOut",delay:.2*a},children:["%","ðŸ”¥","âš¡","ðŸ’¥","ðŸŽ¯","âœ¨","ðŸ’°","ðŸ·ï¸","â­","ðŸŽ","ðŸ’Ž","ðŸŒŸ"][a]},`deal-${a}`))}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:6}).map((e,a)=>t.jsx(y.div,{className:"absolute rounded-full blur-3xl",style:{width:"450px",height:"450px",background:`radial-gradient(circle, ${["#ef4444","#f97316","#eab308","#06b6d4","#ec4899","#8b5cf6"][a]}18, transparent)`,left:20*a+"%",top:15*a+"%"},animate:{scale:[1,1.5,1],opacity:[.2,.4,.2],x:[0,70,0],y:[0,-50,0]},transition:{duration:8+1.5*a,repeat:1/0,ease:"easeInOut"}},`hot-orb-${a}`))}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:8}).map((e,a)=>t.jsx(y.div,{className:"absolute",style:{left:12+12*a+"%",top:8+11*a+"%"},animate:{y:[0,-22,0],rotate:[0,360],scale:[1,1.3,1]},transition:{duration:6+.4*a,repeat:1/0,ease:"easeInOut",delay:.25*a},children:t.jsx("div",{className:"w-10 h-10 relative",style:{background:`conic-gradient(from 0deg, ${["#ef4444","#f97316","#eab308","#06b6d4","#ec4899","#8b5cf6","#ef4444","#f97316"][a]}, transparent)`,borderRadius:"50%",boxShadow:`0 0 30px ${["#ef4444","#f97316","#eab308","#06b6d4","#ec4899","#8b5cf6","#ef4444","#f97316"][a]}88`}})},`explosion-${a}`))}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:5}).map((e,a)=>t.jsx(y.div,{className:"absolute",style:{left:15+18*a+"%",top:12+16*a+"%",width:"3px",height:"80px",background:`linear-gradient(to bottom, ${["#ef4444","#f97316","#eab308","#06b6d4","#ec4899"][a]}, transparent)`,boxShadow:`0 0 20px ${["#ef4444","#f97316","#eab308","#06b6d4","#ec4899"][a]}`,transform:`rotate(${30*a}deg)`},animate:{y:[0,-40,0],opacity:[.3,.7,.3],scaleY:[1,1.5,1]},transition:{duration:5+.8*a,repeat:1/0,ease:"easeInOut",delay:.4*a}},`streak-${a}`))})]})},N=()=>{const N=a(),M=f(),{items:S}=b(t=>t.wishlist),[k,P]=e.useState([]),[T,A]=e.useState(!0),[C,z]=e.useState({hours:23,minutes:59,seconds:59});e.useEffect(()=>{$();const t=setInterval(()=>{z(t=>{let{hours:e,minutes:a,seconds:s}=t;return s>0?s--:a>0?(a--,s=59):e>0&&(e--,a=59,s=59),{hours:e,minutes:a,seconds:s}})},1e3);return()=>clearInterval(t)},[]);const $=async()=>{var t;try{let e=(null==(t=(await s.get("/products?limit=100")).data)?void 0:t.products)||[];e.length<10&&(e=I()),e=e.map(t=>{if(!(t.discount>0||t.originalPrice&&t.originalPrice>t.price)){const e=Math.floor(61*Math.random())+10,a=t.price/(1-e/100);return{...t,originalPrice:Math.round(100*a)/100,discount:e}}return t});const a=e.filter(t=>t.discount>0||t.originalPrice&&t.originalPrice>t.price).map(t=>({...t,discount:t.discount||Math.round((t.originalPrice-t.price)/t.originalPrice*100),dealType:t.discount>=50?"hot":t.discount>=30?"trending":"regular",soldCount:Math.floor(100*Math.random())+20,stock:t.stock||Math.floor(50*Math.random())+10})).sort((t,e)=>e.discount-t.discount).slice(0,20);P(a)}catch(e){P(I())}finally{A(!1)}},I=()=>{const t=["Electronics","Men","Women","Accessories"],e=[];for(let a=0;a<20;a++){const s=Math.floor(61*Math.random())+10,i=Math.floor(200*Math.random())+20,r=Math.round(i/(1-s/100)*100)/100;e.push({_id:`deal-${a}`,name:`Deal Product ${a+1}`,price:i,originalPrice:r,discount:s,rating:(2*Math.random()+3).toFixed(1),numOfReviews:Math.floor(500*Math.random()),category:t[Math.floor(Math.random()*t.length)],stock:Math.floor(50*Math.random())+10,images:[{url:`https://images.unsplash.com/photo-${15e11+Math.floor(1e8*Math.random())}?w=400&h=400&fit=crop`}],dealType:s>=50?"hot":s>=30?"trending":"regular",soldCount:Math.floor(100*Math.random())+20})}return e.sort((t,e)=>e.discount-t.discount)},O=t=>S.some(e=>e._id===t);return t.jsxs(t.Fragment,{children:[t.jsxs(i,{children:[t.jsx("title",{children:"Hot Deals - NexusMart"}),t.jsx("meta",{name:"description",content:"Best deals and discounts on NexusMart"})]}),t.jsxs("div",{className:"min-h-screen relative py-12",children:[t.jsx("div",{className:"fixed inset-0 -z-10",children:t.jsx(w,{intensity:"medium"})}),t.jsx(j,{}),t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-red-500/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[t.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[t.jsx(y.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block mb-4",children:t.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-red-600 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/50 animate-pulse",children:t.jsx(r,{className:"text-4xl text-white"})})}),t.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",style:{fontFamily:"Orbitron, sans-serif"},children:t.jsx("span",{className:"gradient-text",children:"ðŸ”¥ Hot Deals"})}),t.jsx("p",{className:"text-xl text-purple-300/70 mb-8",children:"Limited time offers - Grab them before they're gone!"}),t.jsxs(y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"inline-flex items-center gap-4 glass-card rounded-2xl p-6",children:[t.jsx(o,{className:"text-3xl text-cyan-400"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-purple-300/70 text-sm",children:"Deals end in:"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-orange-600 rounded-lg px-3 py-2 min-w-[60px]",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:String(C.hours).padStart(2,"0")}),t.jsx("div",{className:"text-xs text-white/70",children:"Hours"})]}),t.jsx("div",{className:"text-2xl text-purple-300",children:":"}),t.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-orange-600 rounded-lg px-3 py-2 min-w-[60px]",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:String(C.minutes).padStart(2,"0")}),t.jsx("div",{className:"text-xs text-white/70",children:"Minutes"})]}),t.jsx("div",{className:"text-2xl text-purple-300",children:":"}),t.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-orange-600 rounded-lg px-3 py-2 min-w-[60px]",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:String(C.seconds).padStart(2,"0")}),t.jsx("div",{className:"text-xs text-white/70",children:"Seconds"})]})]})]})]})]}),T?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,a)=>t.jsx("div",{className:"glass-card rounded-2xl p-6 h-96 animate-pulse"},a))}):0===k.length?t.jsxs("div",{className:"glass-card rounded-3xl p-12 text-center",children:[t.jsx(l,{className:"text-6xl text-purple-400 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:"No Deals Available"}),t.jsx("p",{className:"text-purple-300/70",children:"Check back soon for amazing offers!"})]}):t.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((e,a)=>{var s,i,o;const l=(t=>{switch(t){case"hot":return{text:"HOT DEAL",color:"from-red-500 to-orange-500",icon:r};case"trending":return{text:"TRENDING",color:"from-purple-500 to-pink-500",icon:x};default:return{text:"DEAL",color:"from-blue-500 to-cyan-500",icon:m}}})(e.dealType),h=l.icon,f=e.soldCount/(e.soldCount+e.stock)*100;return t.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},whileHover:{y:-8},onClick:()=>N(`/products/${e._id}`),className:"group relative cursor-pointer",children:[t.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r ${l.color} rounded-2xl opacity-0 group-hover:opacity-30 blur-lg transition-all duration-500`}),t.jsxs("div",{className:"relative glass-card rounded-2xl overflow-hidden h-full",children:[t.jsxs("div",{className:`absolute top-4 left-4 z-20 px-3 py-1.5 bg-gradient-to-r ${l.color} rounded-full text-white text-xs font-bold flex items-center gap-1 shadow-lg animate-pulse`,children:[t.jsx(h,{}),l.text]}),t.jsx(y.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:t=>((t,e)=>{var a;t.stopPropagation(),O(e._id)?(M(p(e._id)),v.success("Removed from wishlist",{icon:"ðŸ’”"})):(M(u({...e,category:"object"==typeof e.category?null==(a=e.category)?void 0:a.name:e.category})),v.success("Added to wishlist!",{icon:"ðŸ’œ"}))})(t,e),className:"absolute top-4 right-4 z-20 p-3 rounded-full backdrop-blur-xl transition-all "+(O(e._id)?"bg-gradient-to-br from-pink-500 to-red-500 text-white":"bg-white/80 dark:bg-gray-800/80 text-gray-600 dark:text-gray-400"),children:t.jsx(n,{className:O(e._id)?"fill-current":""})}),t.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[t.jsx("img",{src:(null==(i=null==(s=e.images)?void 0:s[0])?void 0:i.url)||e.image,alt:e.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsxs("div",{className:"absolute bottom-4 left-4 px-4 py-2 bg-red-500 rounded-xl text-white font-bold text-2xl shadow-lg",children:["-",e.discount,"%"]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsxs("div",{className:"p-6",children:[e.category&&t.jsx("span",{className:"inline-block px-3 py-1 text-xs font-semibold rounded-full mb-2 bg-purple-500/20 text-purple-300",children:"object"==typeof e.category?e.category.name:e.category}),t.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-2 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-purple-400 group-hover:to-cyan-400",children:e.name}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"flex items-center",children:[...Array(5)].map((a,s)=>t.jsx(d,{className:"text-sm "+(s<Math.floor(e.rating||4.5)?"text-yellow-400 fill-yellow-400":"text-gray-600")},s))}),t.jsxs("span",{className:"text-xs text-purple-300/70",children:["(",e.numOfReviews||0,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsxs("span",{className:"text-2xl font-bold gradient-text",children:["$",null==(o=e.price)?void 0:o.toFixed(2)]}),e.originalPrice&&t.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",e.originalPrice.toFixed(2)]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex justify-between text-xs text-purple-300/70 mb-1",children:[t.jsxs("span",{children:["Sold: ",e.soldCount]}),t.jsxs("span",{children:["Available: ",e.stock]})]}),t.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:t.jsx(y.div,{initial:{width:0},animate:{width:`${f}%`},transition:{delay:.05*a+.3,duration:1},className:`h-full bg-gradient-to-r ${l.color}`})})]}),t.jsxs(y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t=>((t,e)=>{var a,s;t.stopPropagation(),M(g({product:e._id,name:e.name,price:e.price,image:(null==(s=null==(a=e.images)?void 0:a[0])?void 0:s.url)||e.image,stock:e.stock,quantity:1})),v.success("Added to cart!",{icon:"ðŸ›’"})})(t,e),disabled:0===e.stock,className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-500/50 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(c,{}),0===e.stock?"Out of Stock":"Add to Cart"]})]})]})]},e._id)})}),t.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-16 glass-card rounded-3xl p-8",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[t.jsxs("div",{children:[t.jsx(h,{className:"text-4xl text-red-400 mx-auto mb-2"}),t.jsx("h3",{className:"text-3xl font-bold gradient-text mb-1",children:"Up to 70%"}),t.jsx("p",{className:"text-purple-300/70",children:"Maximum Discount"})]}),t.jsxs("div",{children:[t.jsx(r,{className:"text-4xl text-orange-400 mx-auto mb-2"}),t.jsxs("h3",{className:"text-3xl font-bold gradient-text mb-1",children:[k.length,"+"]}),t.jsx("p",{className:"text-purple-300/70",children:"Active Deals"})]}),t.jsxs("div",{children:[t.jsx(l,{className:"text-4xl text-purple-400 mx-auto mb-2"}),t.jsx("h3",{className:"text-3xl font-bold gradient-text mb-1",children:"Daily"}),t.jsx("p",{className:"text-purple-300/70",children:"New Offers"})]})]})})]})]})]})};export{N as default};
