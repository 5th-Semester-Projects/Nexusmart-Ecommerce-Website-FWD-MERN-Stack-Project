import{j as e}from"./three-vendor-ixxPWqI6-1764453544413.js";import{u as t,r as s}from"./react-vendor-Jz9jFFXE-1764453544413.js";import{b as a,H as r,c as l,a2 as i,d as o,w as n,i as d,v as c,m as x,a3 as m,Y as p,z as u,A as h,y as g}from"./index-CVYCgIs8-1764453544413.js";import{u as f,k as v}from"./redux-vendor-D60STKwD-1764453544413.js";import{m as j,z as b}from"./ui-vendor-B23fcIMt-1764453544413.js";import{M as y}from"./MagicalGenie-Bfn5nJSb-1764453544413.js";const N=()=>{const N=t(),w=f(),{items:M}=v(e=>e.wishlist),[k,P]=s.useState([]),[A,S]=s.useState(!0),[D,C]=s.useState({hours:23,minutes:59,seconds:59});s.useEffect(()=>{$();const e=setInterval(()=>{C(e=>{let{hours:t,minutes:s,seconds:a}=e;return a>0?a--:s>0?(s--,a=59):t>0&&(t--,s=59,a=59),{hours:t,minutes:s,seconds:a}})},1e3);return()=>clearInterval(e)},[]);const $=async()=>{var e;try{let t=(null==(e=(await a.get("/products?limit=100")).data)?void 0:e.products)||[];t.length<10&&(t=_()),t=t.map(e=>{if(!(e.discount>0||e.originalPrice&&e.originalPrice>e.price)){const t=Math.floor(61*Math.random())+10,s=e.price/(1-t/100);return{...e,originalPrice:Math.round(100*s)/100,discount:t}}return e});const s=t.filter(e=>e.discount>0||e.originalPrice&&e.originalPrice>e.price).map(e=>({...e,discount:e.discount||Math.round((e.originalPrice-e.price)/e.originalPrice*100),dealType:e.discount>=50?"hot":e.discount>=30?"trending":"regular",soldCount:Math.floor(100*Math.random())+20,stock:e.stock||Math.floor(50*Math.random())+10})).sort((e,t)=>t.discount-e.discount).slice(0,20);P(s)}catch(t){P(_())}finally{S(!1)}},_=()=>{const e=["Electronics","Men","Women","Accessories"],t=[];for(let s=0;s<20;s++){const a=Math.floor(61*Math.random())+10,r=Math.floor(200*Math.random())+20,l=Math.round(r/(1-a/100)*100)/100;t.push({_id:`deal-${s}`,name:`Deal Product ${s+1}`,price:r,originalPrice:l,discount:a,rating:(2*Math.random()+3).toFixed(1),numOfReviews:Math.floor(500*Math.random()),category:e[Math.floor(Math.random()*e.length)],stock:Math.floor(50*Math.random())+10,images:[{url:`https://images.unsplash.com/photo-${15e11+Math.floor(1e8*Math.random())}?w=400&h=400&fit=crop`}],dealType:a>=50?"hot":a>=30?"trending":"regular",soldCount:Math.floor(100*Math.random())+20})}return t.sort((e,t)=>t.discount-e.discount)},H=e=>M.some(t=>t._id===e);return e.jsxs(e.Fragment,{children:[e.jsxs(r,{children:[e.jsx("title",{children:"Hot Deals - NexusMart"}),e.jsx("meta",{name:"description",content:"Best deals and discounts on NexusMart"})]}),e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-gray-950 via-orange-950/10 to-gray-950"}),e.jsx(y,{}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-red-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[e.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block mb-4",children:e.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-red-600 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/50 animate-pulse",children:e.jsx(l,{className:"text-4xl text-white"})})}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",style:{fontFamily:"Orbitron, sans-serif"},children:e.jsx("span",{className:"gradient-text",children:"ðŸ”¥ Hot Deals"})}),e.jsx("p",{className:"text-xl text-purple-300/70 mb-8",children:"Limited time offers - Grab them before they're gone!"}),e.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"inline-flex items-center gap-4 glass-card rounded-2xl p-6",children:[e.jsx(i,{className:"text-3xl text-cyan-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-300/70 text-sm",children:"Deals end in:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-orange-600 rounded-lg px-3 py-2 min-w-[60px]",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:String(D.hours).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-white/70",children:"Hours"})]}),e.jsx("div",{className:"text-2xl text-purple-300",children:":"}),e.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-orange-600 rounded-lg px-3 py-2 min-w-[60px]",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:String(D.minutes).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-white/70",children:"Minutes"})]}),e.jsx("div",{className:"text-2xl text-purple-300",children:":"}),e.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-orange-600 rounded-lg px-3 py-2 min-w-[60px]",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:String(D.seconds).padStart(2,"0")}),e.jsx("div",{className:"text-xs text-white/70",children:"Seconds"})]})]})]})]})]}),A?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((t,s)=>e.jsx("div",{className:"glass-card rounded-2xl p-6 h-96 animate-pulse"},s))}):0===k.length?e.jsxs("div",{className:"glass-card rounded-3xl p-12 text-center",children:[e.jsx(o,{className:"text-6xl text-purple-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:"No Deals Available"}),e.jsx("p",{className:"text-purple-300/70",children:"Check back soon for amazing offers!"})]}):e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((t,s)=>{var a,r,i;const o=(e=>{switch(e){case"hot":return{text:"HOT DEAL",color:"from-red-500 to-orange-500",icon:l};case"trending":return{text:"TRENDING",color:"from-purple-500 to-pink-500",icon:p};default:return{text:"DEAL",color:"from-blue-500 to-cyan-500",icon:m}}})(t.dealType),x=o.icon,f=t.soldCount/(t.soldCount+t.stock)*100;return e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},whileHover:{y:-8},onClick:()=>N(`/products/${t._id}`),className:"group relative cursor-pointer",children:[e.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r ${o.color} rounded-2xl opacity-0 group-hover:opacity-30 blur-lg transition-all duration-500`}),e.jsxs("div",{className:"relative glass-card rounded-2xl overflow-hidden h-full",children:[e.jsxs("div",{className:`absolute top-4 left-4 z-20 px-3 py-1.5 bg-gradient-to-r ${o.color} rounded-full text-white text-xs font-bold flex items-center gap-1 shadow-lg animate-pulse`,children:[e.jsx(x,{}),o.text]}),e.jsx(j.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:e=>((e,t)=>{var s;e.stopPropagation(),H(t._id)?(w(u(t._id)),b.success("Removed from wishlist",{icon:"ðŸ’”"})):(w(h({...t,category:"object"==typeof t.category?null==(s=t.category)?void 0:s.name:t.category})),b.success("Added to wishlist!",{icon:"ðŸ’œ"}))})(e,t),className:"absolute top-4 right-4 z-20 p-3 rounded-full backdrop-blur-xl transition-all "+(H(t._id)?"bg-gradient-to-br from-pink-500 to-red-500 text-white":"bg-white/80 dark:bg-gray-800/80 text-gray-600 dark:text-gray-400"),children:e.jsx(n,{className:H(t._id)?"fill-current":""})}),e.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[e.jsx("img",{src:(null==(r=null==(a=t.images)?void 0:a[0])?void 0:r.url)||t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsxs("div",{className:"absolute bottom-4 left-4 px-4 py-2 bg-red-500 rounded-xl text-white font-bold text-2xl shadow-lg",children:["-",t.discount,"%"]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("div",{className:"p-6",children:[t.category&&e.jsx("span",{className:"inline-block px-3 py-1 text-xs font-semibold rounded-full mb-2 bg-purple-500/20 text-purple-300",children:"object"==typeof t.category?t.category.name:t.category}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2 line-clamp-2 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-purple-400 group-hover:to-cyan-400",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,a)=>e.jsx(d,{className:"text-sm "+(a<Math.floor(t.rating||4.5)?"text-yellow-400 fill-yellow-400":"text-gray-600")},a))}),e.jsxs("span",{className:"text-xs text-purple-300/70",children:["(",t.numOfReviews||0,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("span",{className:"text-2xl font-bold gradient-text",children:["$",null==(i=t.price)?void 0:i.toFixed(2)]}),t.originalPrice&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",t.originalPrice.toFixed(2)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-purple-300/70 mb-1",children:[e.jsxs("span",{children:["Sold: ",t.soldCount]}),e.jsxs("span",{children:["Available: ",t.stock]})]}),e.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:e.jsx(j.div,{initial:{width:0},animate:{width:`${f}%`},transition:{delay:.05*s+.3,duration:1},className:`h-full bg-gradient-to-r ${o.color}`})})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e=>((e,t)=>{var s,a;e.stopPropagation(),w(g({product:t._id,name:t.name,price:t.price,image:(null==(a=null==(s=t.images)?void 0:s[0])?void 0:a.url)||t.image,stock:t.stock,quantity:1})),b.success("Added to cart!",{icon:"ðŸ›’"})})(e,t),disabled:0===t.stock,className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-purple-500/50 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(c,{}),0===t.stock?"Out of Stock":"Add to Cart"]})]})]})]},t._id)})}),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-16 glass-card rounded-3xl p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx(x,{className:"text-4xl text-red-400 mx-auto mb-2"}),e.jsx("h3",{className:"text-3xl font-bold gradient-text mb-1",children:"Up to 70%"}),e.jsx("p",{className:"text-purple-300/70",children:"Maximum Discount"})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-4xl text-orange-400 mx-auto mb-2"}),e.jsxs("h3",{className:"text-3xl font-bold gradient-text mb-1",children:[k.length,"+"]}),e.jsx("p",{className:"text-purple-300/70",children:"Active Deals"})]}),e.jsxs("div",{children:[e.jsx(o,{className:"text-4xl text-purple-400 mx-auto mb-2"}),e.jsx("h3",{className:"text-3xl font-bold gradient-text mb-1",children:"Daily"}),e.jsx("p",{className:"text-purple-300/70",children:"New Offers"})]})]})})]})]})]})};export{N as default};
