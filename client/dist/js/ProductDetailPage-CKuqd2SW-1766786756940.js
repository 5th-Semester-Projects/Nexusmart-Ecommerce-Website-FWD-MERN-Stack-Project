import{j as e}from"./three-vendor-DtOeTE3i-1766786756940.js";import{r as t,u as s,h as a}from"./react-vendor-Jz9jFFXE-1766786756940.js";import{R as i,S as r,a as l,b as o,T as n,s as c,U as d,N as m,y as p,V as u,W as x,X as h,Y as g,Z as y,_ as b,$ as f,a0 as j,a1 as v,a2 as w,d as N,A as k,a3 as C,a4 as S,a5 as q,a6 as M,q as $,r as P,a7 as z,l as A,a8 as R,a9 as I,aa as W,ab as _,ac as F,ad as L,ae as B,af as U,ag as E,ah as H,ai as D,aj as T,ak as O,al as V,am as X,P as G,H as Y,t as J,u as Q,B as K,z as Z,an as ee,m as te,n as se,ao as ae,o as ie,C as re,D as le,E as oe}from"./index-DbxYql3u-1766786756940.js";import{k as ne,u as ce}from"./redux-vendor-E0j4NC30-1766786756940.js";import{m as de,A as me,z as pe,n as ue}from"./ui-vendor-Ck8UntsH-1766786756940.js";import{Q as xe}from"./index-BybrC-aL-1766786756940.js";import{P as he}from"./PriceHistoryChart-DKvz9MLr-1766786756940.js";const ge=({productId:s,initialCount:a=0})=>{const[n,c]=t.useState(a||Math.floor(50*Math.random())+10),[d,m]=t.useState([]),[p,u]=t.useState(null);return t.useEffect(()=>{const e=i("https://nexusmart-backend.onrender.com",{path:"/socket.io",transports:["websocket","polling"]});e.on("connect",()=>{e.emit("view-product",{productId:s})}),e.on("viewer-count",e=>{c(e.count)}),e.on("product-action",e=>{m(t=>[e,...t.slice(0,4)])}),u(e);const t=setInterval(()=>{c(e=>{const t=Math.floor(5*Math.random())-2;return Math.max(1,e+t)})},5e3),a=setInterval(()=>{const e=[{type:"purchase",user:"Someone in Karachi",time:"Just now"},{type:"cart",user:"A user in Lahore",time:"1 min ago"},{type:"purchase",user:"Someone nearby",time:"Just now"},{type:"cart",user:"A user in Islamabad",time:"2 min ago"}],t=e[Math.floor(Math.random()*e.length)];m(e=>[t,...e.slice(0,4)])},8e3);return()=>{e.emit("leave-product",{productId:s}),e.disconnect(),clearInterval(t),clearInterval(a)}},[s]),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600/20 to-pink-600/20 backdrop-blur-sm px-4 py-2 rounded-full border border-purple-500/30",children:[e.jsxs("span",{className:"relative flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),e.jsx(r,{className:"text-purple-400"}),e.jsxs("span",{className:"text-white font-semibold",children:[e.jsx(de.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:n},n)," ","people viewing this"]})]}),n>30&&e.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 text-orange-400 text-sm",children:[e.jsx(l,{className:"animate-pulse"}),e.jsx("span",{children:"High demand! This product is trending"})]}),e.jsx(me,{children:d.length>0&&e.jsx(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:d.slice(0,3).map((t,s)=>e.jsxs(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:.1*s},className:"flex items-center gap-2 text-sm px-3 py-2 rounded-lg "+("purchase"===t.type?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"),children:["purchase"===t.type?e.jsx(o,{className:"text-green-400"}):e.jsx(o,{className:"text-blue-400"}),e.jsxs("span",{children:[t.user," ","purchase"===t.type?"purchased":"added to cart"]}),e.jsx("span",{className:"text-gray-500 text-xs ml-auto",children:t.time})]},s))})})]})},ye=[{_id:"1",name:"Premium Men's Leather Jacket",price:299,originalPrice:449,discount:33,category:"Men",subcategory:"Jackets",rating:4.9,reviews:1247,stock:45,image:"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=500&q=80"},{url:"https://images.unsplash.com/photo-1520975916090-3105956dac38?w=500&q=80"}],description:"Classic genuine leather jacket with premium finish. Perfect for any occasion.",sizes:["S","M","L","XL","XXL"],colors:["Black","Brown","Navy"]},{_id:"2",name:"Men's Casual Denim Jeans",price:89,originalPrice:129,discount:31,category:"Men",subcategory:"Jeans",rating:4.7,reviews:2834,stock:156,image:"https://images.unsplash.com/photo-1542272604-787c3835535d?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1542272604-787c3835535d?w=500&q=80"},{url:"https://images.unsplash.com/photo-1541099649105-f69ad21f3246?w=500&q=80"}],description:"Comfortable slim-fit denim jeans with stretch fabric.",sizes:["28","30","32","34","36","38"],colors:["Blue","Black","Grey"]},{_id:"3",name:"Men's Designer Sneakers",price:179,originalPrice:249,discount:28,category:"Men",subcategory:"Shoes",rating:4.8,reviews:1923,stock:89,image:"https://images.unsplash.com/photo-1549298916-b41d501d3772?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1549298916-b41d501d3772?w=500&q=80"},{url:"https://images.unsplash.com/photo-1460353581641-37baddab0fa2?w=500&q=80"}],description:"Modern designer sneakers with superior comfort and style.",sizes:["7","8","9","10","11","12"],colors:["White","Black","Grey","Blue"]},{_id:"4",name:"Men's Formal Dress Shirt",price:69,originalPrice:99,discount:30,category:"Men",subcategory:"Shirts",rating:4.6,reviews:1456,stock:203,image:"https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=500&q=80"},{url:"https://images.unsplash.com/photo-1620012253295-c15cc3e65df4?w=500&q=80"}],description:"Premium cotton dress shirt for professional look.",sizes:["S","M","L","XL","XXL"],colors:["White","Blue","Black","Pink"]},{_id:"5",name:"Men's Sports Watch",price:249,originalPrice:349,discount:29,category:"Men",subcategory:"Accessories",rating:4.9,reviews:3421,stock:67,image:"https://images.unsplash.com/photo-1524805444758-089113d48a6d?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1524805444758-089113d48a6d?w=500&q=80"},{url:"https://images.unsplash.com/photo-1523170335258-f5ed11844a49?w=500&q=80"}],description:"Luxury sports watch with multiple features and water resistance.",colors:["Silver","Gold","Black"]},{_id:"6",name:"Men's Leather Wallet",price:49,originalPrice:79,discount:38,category:"Men",subcategory:"Accessories",rating:4.7,reviews:2156,stock:234,image:"https://images.unsplash.com/photo-1627123424574-724758594e93?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1627123424574-724758594e93?w=500&q=80"}],description:"Genuine leather wallet with RFID protection.",colors:["Brown","Black","Tan"]},{_id:"7",name:"Women's Elegant Evening Dress",price:199,originalPrice:299,discount:33,category:"Women",subcategory:"Dresses",rating:4.9,reviews:1834,stock:78,image:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=500&q=80"},{url:"https://images.unsplash.com/photo-1566174053879-31528523f8ae?w=500&q=80"}],description:"Stunning evening dress perfect for special occasions.",sizes:["XS","S","M","L","XL"],colors:["Black","Red","Navy","Emerald"]},{_id:"8",name:"Women's Designer Handbag",price:349,originalPrice:499,discount:30,category:"Women",subcategory:"Bags",rating:4.8,reviews:2647,stock:54,image:"https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500&q=80"},{url:"https://images.unsplash.com/photo-1591561954555-607968d269fa?w=500&q=80"}],description:"Luxury designer handbag with premium leather finish.",colors:["Brown","Black","Beige","Red"]},{_id:"9",name:"Women's Casual Blouse",price:59,originalPrice:89,discount:34,category:"Women",subcategory:"Tops",rating:4.6,reviews:1923,stock:187,image:"https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?w=500&q=80"},{url:"https://images.unsplash.com/photo-1590330297626-d7aff25a0431?w=500&q=80"}],description:"Comfortable and stylish casual blouse for everyday wear.",sizes:["XS","S","M","L","XL"],colors:["White","Pink","Blue","Black"]},{_id:"10",name:"Women's High Heel Sandals",price:129,originalPrice:189,discount:32,category:"Women",subcategory:"Shoes",rating:4.7,reviews:1456,stock:92,image:"https://images.unsplash.com/photo-1543163521-1bf539c55dd2?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1543163521-1bf539c55dd2?w=500&q=80"},{url:"https://images.unsplash.com/photo-1535043934128-cf0b28d52f95?w=500&q=80"}],description:"Elegant high heel sandals for formal occasions.",sizes:["5","6","7","8","9","10"],colors:["Nude","Black","Red","Silver"]},{_id:"11",name:"Women's Denim Jacket",price:89,originalPrice:139,discount:36,category:"Women",subcategory:"Jackets",rating:4.8,reviews:2134,stock:123,image:"https://images.unsplash.com/photo-1601333144130-8cbb312386b6?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1601333144130-8cbb312386b6?w=500&q=80"},{url:"https://images.unsplash.com/photo-1576871337622-98d48d1cf531?w=500&q=80"}],description:"Classic denim jacket with modern fit and style.",sizes:["XS","S","M","L","XL"],colors:["Blue","Black","White"]},{_id:"12",name:"Women's Diamond Necklace",price:599,originalPrice:899,discount:33,category:"Women",subcategory:"Jewelry",rating:4.9,reviews:876,stock:34,image:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=500&q=80"}],description:"Elegant diamond necklace with 18K gold plating.",colors:["Gold","Silver","Rose Gold"]},{_id:"13",name:"Wireless Noise-Cancelling Headphones",price:299,originalPrice:399,discount:25,category:"Electronics",subcategory:"Audio",rating:4.8,reviews:2847,stock:145,image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&q=80"},{url:"https://images.unsplash.com/photo-1484704849700-f032a568e944?w=500&q=80"}],description:"Premium wireless headphones with active noise cancellation and 30-hour battery.",colors:["Black","Silver","Rose Gold"]},{_id:"14",name:"Smart Fitness Watch Pro",price:199,originalPrice:299,discount:33,category:"Electronics",subcategory:"Wearables",rating:4.6,reviews:1523,stock:198,image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&q=80"},{url:"https://images.unsplash.com/photo-1579586337278-3befd40fd17a?w=500&q=80"}],description:"Track your fitness goals with advanced health monitoring features.",colors:["Black","White","Blue"]},{_id:"15",name:"Portable Bluetooth Speaker",price:79,originalPrice:129,discount:39,category:"Electronics",subcategory:"Audio",rating:4.5,reviews:1876,stock:203,image:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=500&q=80",images:[{url:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=500&q=80"}],description:"360Â° sound with deep bass and 12-hour battery life.",colors:["Black","Blue","Red"]}],be="nexusmart_recently_viewed",fe=({isOpen:a,onClose:i})=>{const[r,l]=t.useState([]),o=s(),x=ne();t.useEffect(()=>{a&&l((()=>{try{const e=localStorage.getItem(be);return e?JSON.parse(e):[]}catch{return[]}})())},[a]);const h=e=>{(e=>{try{const t=localStorage.getItem(be);let s=t?JSON.parse(t):[];s=s.filter(t=>t._id!==e),localStorage.setItem(be,JSON.stringify(s))}catch(t){}})(e),l(r.filter(t=>t._id!==e))},g=e=>{o(`/product/${e}`),i()},y=e=>{const t=new Date(e),s=new Date-t,a=Math.floor(s/6e4),i=Math.floor(s/36e5),r=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a}m ago`:i<24?`${i}h ago`:`${r}d ago`};return e.jsx(me,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:i}),e.jsxs(de.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-full max-w-md bg-gray-900 border-l border-purple-500/30 z-50 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-purple-500/30 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center",children:e.jsx(n,{className:"text-white text-xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Recently Viewed"}),e.jsxs("p",{className:"text-purple-300/50 text-sm",children:[r.length," items"]})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-purple-400 hover:text-white transition-colors",children:e.jsx(c,{className:"text-xl"})})]}),r.length>0&&e.jsx("div",{className:"p-4 border-b border-purple-500/20",children:e.jsxs("button",{onClick:()=>{localStorage.removeItem(be),l([]),pe.success("History cleared")},className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm transition-colors",children:[e.jsx(d,{})," Clear All History"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:0===r.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{className:"w-16 h-16 mx-auto text-purple-500/30 mb-4"}),e.jsx("p",{className:"text-purple-300/50",children:"No recently viewed products"}),e.jsx("p",{className:"text-purple-300/30 text-sm mt-1",children:"Products you view will appear here"})]}):r.map((t,s)=>{var a,i;return e.jsxs(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.05*s},className:"bg-purple-900/30 rounded-xl p-3 flex gap-3 group hover:bg-purple-900/50 transition-colors",children:[e.jsx("img",{src:t.image||"/placeholder.jpg",alt:t.name,className:"w-20 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>g(t._id)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium text-sm line-clamp-2 cursor-pointer hover:text-cyan-400 transition-colors",onClick:()=>g(t._id),children:t.name}),e.jsx("p",{className:"text-purple-300/50 text-xs mt-1",children:t.category}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-cyan-400 font-bold",children:["$",null==(a=t.price)?void 0:a.toFixed(2)]}),t.originalPrice>t.price&&e.jsxs("span",{className:"text-purple-400/50 text-xs line-through",children:["$",null==(i=t.originalPrice)?void 0:i.toFixed(2)]})]}),e.jsx("p",{className:"text-purple-400/40 text-xs mt-1",children:y(t.viewedAt)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>(e=>{x(u({...e,quantity:1})),pe.success("Added to cart!")})(t),className:"p-2 bg-purple-600/30 text-purple-300 rounded-lg hover:bg-purple-600 hover:text-white transition-colors",title:"Add to Cart",children:e.jsx(p,{className:"text-sm"})}),e.jsx("button",{onClick:()=>h(t._id),className:"p-2 text-purple-400/50 hover:text-red-400 transition-colors",title:"Remove",children:e.jsx(c,{className:"text-sm"})})]})]},t._id)})})]})]})})},je=({src:s,alt:a="Product Image",zoomLevel:i=2.5,enableFullscreen:r=!0})=>{const[l,o]=t.useState(!1),[n,c]=t.useState({x:50,y:50}),[d,m]=t.useState(!1),p=t.useRef(null),u=t.useCallback(e=>{if(!p.current)return;const t=p.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*100,a=(e.clientY-t.top)/t.height*100;c({x:s,y:a})},[]),y=t.useCallback(e=>{if(!p.current||1!==e.touches.length)return;const t=e.touches[0],s=p.current.getBoundingClientRect(),a=(t.clientX-s.left)/s.width*100,i=(t.clientY-s.top)/s.height*100;c({x:Math.max(0,Math.min(100,a)),y:Math.max(0,Math.min(100,i))})},[]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative group",children:e.jsxs("div",{ref:p,className:"relative overflow-hidden rounded-2xl cursor-zoom-in",onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1),c({x:50,y:50})},onMouseMove:u,onTouchStart:()=>o(!0),onTouchEnd:()=>o(!1),onTouchMove:y,children:[e.jsx("img",{src:s,alt:a,className:"w-full h-full object-cover",draggable:!1}),l&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`url(${s})`,backgroundPosition:`${n.x}% ${n.y}%`,backgroundSize:100*i+"%",backgroundRepeat:"no-repeat"}}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2 px-3 py-2 rounded-xl transition-all duration-300 "+(l?"bg-cyan-500/90 text-white":"bg-black/50 text-white/70"),children:[l?e.jsx(x,{}):e.jsx(h,{}),e.jsx("span",{className:"text-sm",children:l?"Release to exit zoom":"Hover to zoom"})]}),r&&e.jsx("button",{onClick:()=>m(!0),className:"absolute bottom-4 right-4 p-3 bg-black/50 text-white rounded-xl hover:bg-purple-600 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(g,{})}),l&&e.jsx("div",{className:"absolute w-32 h-32 border-4 border-cyan-400/50 rounded-full pointer-events-none shadow-lg shadow-cyan-500/30",style:{left:`${n.x}%`,top:`${n.y}%`,transform:"translate(-50%, -50%)",background:`url(${s})`,backgroundPosition:`${n.x}% ${n.y}%`,backgroundSize:300*i+"%",backgroundRepeat:"no-repeat"}})]})}),d&&e.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black flex items-center justify-center",onClick:()=>m(!1),children:[e.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 p-3 bg-white/10 text-white rounded-xl hover:bg-white/20 transition-colors z-10",children:"âœ•"}),e.jsx("img",{src:s,alt:a,className:"max-w-full max-h-full object-contain"})]})]})},ve={clothing:{title:"Clothing Size Guide",unit:"inches",headers:["Size","Chest","Waist","Hip","Length"],rows:[["XS","32-34","26-28","34-36","26"],["S","34-36","28-30","36-38","27"],["M","38-40","30-32","38-40","28"],["L","40-42","32-34","40-42","29"],["XL","44-46","36-38","44-46","30"],["XXL","48-50","40-42","48-50","31"]],tips:["Measure your body, not your clothes","Use a soft measuring tape","Stand straight with arms at sides","For between sizes, choose larger size"]},shoes:{title:"Shoe Size Guide",unit:"cm / US",headers:["PK/US","UK","EU","Foot Length (cm)"],rows:[["6","5.5","38","24.0"],["7","6.5","39","24.5"],["8","7.5","41","25.5"],["9","8.5","42","26.0"],["10","9.5","43","27.0"],["11","10.5","45","28.0"],["12","11.5","46","29.0"]],tips:["Measure feet in the evening when they are largest","Stand when measuring","Measure both feet and use the larger measurement","Leave 1cm space from toe to shoe end"]},kids:{title:"Kids Size Guide",unit:"inches",headers:["Age","Size","Height (cm)","Chest","Waist"],rows:[["2-3Y","2T","92-98","21","20"],["3-4Y","3T","98-104","22","21"],["4-5Y","4","104-110","23","21.5"],["5-6Y","5","110-116","24","22"],["6-7Y","6","116-122","25","22.5"],["8-9Y","8","128-134","27","24"],["10-11Y","10","140-146","29","25"]],tips:["Kids grow quickly - consider sizing up","Check sleeve and pant lengths","Look for adjustable waistbands"]},accessories:{title:"Accessories Size Guide",unit:"inches",headers:["Item","Small","Medium","Large","XL"],rows:[["Belt Length",'32"','36"','40"','44"'],["Watch Band",'6.5"','7"','7.5"','8"'],["Ring (US)","5-6","7-8","9-10","11-12"],["Hat Circum.",'21.5"','22"','22.5"','23"'],["Glove Palm",'7.5"','8"','8.5"','9"']],tips:['For belts, order 2" larger than waist size',"For rings, measure at end of day","For watches, fit 2 fingers under band"]}},we=({category:t})=>{var s;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium text-white flex items-center gap-2",children:[e.jsx(b,{className:"text-cyan-400"}),"How to Measure"]}),e.jsx("div",{className:"grid gap-2",children:null==(s={clothing:[{name:"Chest",desc:"Measure around the fullest part of your chest"},{name:"Waist",desc:"Measure around your natural waistline"},{name:"Hip",desc:"Measure around the fullest part of your hips"},{name:"Length",desc:"Measure from shoulder to desired hem"}],shoes:[{name:"Foot Length",desc:"Stand on paper and mark heel to longest toe"},{name:"Foot Width",desc:"Measure the widest part of your foot"}],kids:[{name:"Height",desc:"Stand against wall, measure floor to top of head"},{name:"Chest",desc:"Measure around the fullest part of chest"}],accessories:[{name:"Waist for Belt",desc:"Measure where you wear your belt"},{name:"Wrist",desc:"Measure around your wrist bone"}]}[t])?void 0:s.map((t,s)=>e.jsxs("div",{className:"flex items-start gap-3 bg-white/5 p-3 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-purple-600 to-cyan-500 flex items-center justify-center text-xs font-bold",children:s+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400",children:t.desc})]})]},s))})]})},Ne=({isOpen:s,onClose:a,category:i="clothing",selectedSize:r=null,onSizeSelect:l=()=>{}})=>{const[o,n]=t.useState("chart"),d=ve[i]||ve.clothing;return e.jsx(me,{children:s&&e.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:a,children:e.jsxs(de.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"w-full max-w-2xl max-h-[90vh] overflow-hidden bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl shadow-2xl border border-white/10",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:d.title}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["All measurements in ",d.unit]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:e.jsx(c,{className:"text-xl text-gray-400"})})]}),e.jsxs("div",{className:"flex gap-2 p-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>n("chart"),className:"px-4 py-2 rounded-xl font-medium transition-all "+("chart"===o?"bg-gradient-to-r from-purple-600 to-cyan-600 text-white":"bg-white/5 text-gray-400 hover:text-white"),children:"Size Chart"}),e.jsx("button",{onClick:()=>n("measure"),className:"px-4 py-2 rounded-xl font-medium transition-all "+("measure"===o?"bg-gradient-to-r from-purple-600 to-cyan-600 text-white":"bg-white/5 text-gray-400 hover:text-white"),children:"How to Measure"})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:"chart"===o?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsx("tr",{children:d.headers.map((t,s)=>e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-cyan-400 bg-white/5 first:rounded-l-xl last:rounded-r-xl",children:t},s))})}),e.jsx("tbody",{children:d.rows.map((t,s)=>e.jsx("tr",{onClick:()=>l(t[0]),className:"cursor-pointer transition-colors "+(r===t[0]?"bg-purple-600/20":"hover:bg-white/5"),children:t.map((s,a)=>e.jsx("td",{className:"px-4 py-3 text-sm "+(0===a?"font-bold text-white":"text-gray-300"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[r===t[0]&&0===a&&e.jsx(y,{className:"text-cyan-400"}),s]})},a))},s))})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-cyan-900/30 rounded-2xl p-4 border border-purple-500/20",children:[e.jsx("h4",{className:"font-medium text-white mb-3",children:"ðŸ’¡ Pro Tips"}),e.jsx("ul",{className:"space-y-2",children:d.tips.map((t,s)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[e.jsx("span",{className:"text-cyan-400 mt-1",children:"â€¢"}),t]},s))})]})]}):e.jsx(we,{category:i})}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-black/20",children:e.jsxs("p",{className:"text-center text-sm text-gray-400",children:["Need help? Contact us at ",e.jsx("span",{className:"text-cyan-400",children:"support@nexusmart.com"})]})})]})})})},ke=({productId:s,productName:a,variant:i="button",className:r=""})=>{const[l,o]=t.useState(!1),[n,c]=t.useState(!1),{user:d,isAuthenticated:m}=ce(e=>e.auth),p=()=>{n?u():o(!0)},u=async()=>{try{await N.delete(`/products/${s}/stock-alert`),c(!1),pe.success("Stock alert removed")}catch(e){pe.error("Failed to remove alert")}};return"icon"===i?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:p,className:`p-3 rounded-xl transition-all ${n?"bg-cyan-600 text-white":"bg-white/10 text-gray-400 hover:text-white hover:bg-white/20"} ${r}`,title:n?"Remove stock alert":"Notify when in stock",children:n?e.jsx(f,{}):e.jsx(j,{})}),e.jsx(Ce,{isOpen:l,onClose:()=>o(!1),productId:s,productName:a,userEmail:null==d?void 0:d.email,isAuthenticated:m,onSuccess:()=>c(!0)})]}):"inline"===i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:p,className:`flex items-center gap-2 text-sm ${n?"text-cyan-400":"text-gray-400 hover:text-cyan-400"} transition-colors ${r}`,children:[n?e.jsx(f,{className:"text-lg"}):e.jsx(j,{className:"text-lg"}),n?"Notification Set":"Notify Me"]}),e.jsx(Ce,{isOpen:l,onClose:()=>o(!1),productId:s,productName:a,userEmail:null==d?void 0:d.email,isAuthenticated:m,onSuccess:()=>c(!0)})]}):e.jsxs(e.Fragment,{children:[e.jsx(de.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,className:`w-full py-3 px-6 rounded-xl font-medium flex items-center justify-center gap-2 transition-all ${n?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white":"bg-gradient-to-r from-purple-600/20 to-cyan-600/20 text-cyan-400 border border-cyan-500/30 hover:from-purple-600/30 hover:to-cyan-600/30"} ${r}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(y,{})," Notification Set"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{})," Notify When Available"]})}),e.jsx(Ce,{isOpen:l,onClose:()=>o(!1),productId:s,productName:a,userEmail:null==d?void 0:d.email,isAuthenticated:m,onSuccess:()=>c(!0)})]})},Ce=({isOpen:s,onClose:a,productId:i,productName:r,userEmail:l="",isAuthenticated:o=!1,onSuccess:n})=>{const[d,m]=t.useState({email:l,phone:"",notifyVia:["email"]}),[p,u]=t.useState(!1),[x,h]=t.useState(!1),g=e=>{m(t=>({...t,notifyVia:t.notifyVia.includes(e)?t.notifyVia.filter(t=>t!==e):[...t.notifyVia,e]}))};return e.jsx(me,{children:s&&e.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:a,children:e.jsx(de.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"w-full max-w-md bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl shadow-2xl border border-white/10 overflow-hidden",onClick:e=>e.stopPropagation(),children:x?e.jsxs(de.div,{initial:{scale:0},animate:{scale:1},className:"p-10 text-center",children:[e.jsx(de.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:e.jsx(y,{className:"text-4xl text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Alert Set!"}),e.jsxs("p",{className:"text-gray-400",children:["We'll notify you when \"",r,'" is back in stock.']})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative p-6 bg-gradient-to-r from-purple-900/50 to-cyan-900/50 border-b border-white/10",children:[e.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-xl transition-colors",children:e.jsx(c,{className:"text-gray-400"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-r from-purple-600 to-cyan-600 flex items-center justify-center",children:e.jsx(j,{className:"text-2xl text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Stock Alert"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when available"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-white/5 border-b border-white/10",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Product"}),e.jsx("p",{className:"font-medium text-white truncate",children:r})]}),e.jsxs("form",{onSubmit:async e=>{var t,s;if(e.preventDefault(),d.email||d.phone){u(!0);try{await N.post(`/products/${i}/stock-alert`,{email:d.email,phone:d.phone,notifyVia:d.notifyVia}),h(!0),null==n||n(),setTimeout(()=>{a(),h(!1)},2e3)}catch(r){pe.error((null==(s=null==(t=r.response)?void 0:t.data)?void 0:s.message)||"Failed to set alert")}finally{u(!1)}}else pe.error("Please provide email or phone number")},className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 mb-3 block",children:"Notify me via"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>g("email"),className:"flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all "+(d.notifyVia.includes("email")?"bg-gradient-to-r from-purple-600 to-cyan-600 text-white":"bg-white/5 text-gray-400 border border-white/10 hover:border-cyan-500/50"),children:[e.jsx(v,{}),"Email"]}),e.jsxs("button",{type:"button",onClick:()=>g("sms"),className:"flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all "+(d.notifyVia.includes("sms")?"bg-gradient-to-r from-purple-600 to-cyan-600 text-white":"bg-white/5 text-gray-400 border border-white/10 hover:border-cyan-500/50"),children:[e.jsx(w,{}),"SMS"]})]})]}),d.notifyVia.includes("email")&&e.jsxs(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",value:d.email,onChange:e=>m(t=>({...t,email:e.target.value})),placeholder:"your@email.com",className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]})]}),d.notifyVia.includes("sms")&&e.jsxs(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"tel",value:d.phone,onChange:e=>m(t=>({...t,phone:e.target.value})),placeholder:"+92 300 1234567",className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]})]}),e.jsx(de.button,{type:"submit",disabled:p,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 bg-gradient-to-r from-purple-600 to-cyan-600 text-white font-semibold rounded-xl flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(j,{}),"Set Alert"]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"We'll only notify you once when this product is back in stock. You can unsubscribe anytime."})]})]})})})})},Se=e=>{const t=new Date-new Date(e),s=Math.floor(t/864e5);return 0===s?"Today":1===s?"Yesterday":s<7?`${s} days ago`:s<30?`${Math.floor(s/7)} weeks ago`:new Date(e).toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric"})},qe=({question:s,onAnswer:a,onVote:i,onDelete:r,isAdmin:l=!1,currentUserId:o=null})=>{var c,m,p,u;const[x,h]=t.useState(!1),[g,b]=t.useState(!1),[f,j]=t.useState(""),[v,w]=t.useState(!1);return e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("button",{onClick:()=>i(s._id,"up"),className:"p-2 rounded-lg transition-colors "+("up"===s.userVote?"bg-cyan-600 text-white":"bg-white/5 text-gray-400 hover:text-cyan-400"),children:e.jsx(S,{})}),e.jsx("span",{className:"text-sm font-bold text-white",children:s.votes||0}),e.jsx("button",{onClick:()=>i(s._id,"down"),className:"p-2 rounded-lg transition-colors "+("down"===s.userVote?"bg-red-600 text-white":"bg-white/5 text-gray-400 hover:text-red-400"),children:e.jsx(q,{})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium mb-2",children:s.question}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"text-cyan-400"}),(null==(c=s.user)?void 0:c.name)||"Anonymous"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(n,{}),Se(s.createdAt)]}),(null==(m=s.answers)?void 0:m.length)>0&&e.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[e.jsx(y,{}),s.answers.length," answer",s.answers.length>1?"s":""]})]})]}),(l||o===(null==(p=s.user)?void 0:p._id))&&e.jsx("button",{onClick:()=>r(s._id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:e.jsx(d,{})})]})}),(null==(u=s.answers)?void 0:u.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>h(!x),className:"w-full px-4 py-2 flex items-center justify-between text-sm text-cyan-400 bg-white/5 hover:bg-white/10 transition-colors",children:[e.jsxs("span",{children:[x?"Hide":"Show"," Answers (",s.answers.length,")"]}),x?e.jsx($,{}):e.jsx(P,{})]}),e.jsx(me,{children:x&&e.jsx(de.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-white/10",children:s.answers.map((t,s)=>{var a;return e.jsx("div",{className:`p-4 ${s>0?"border-t border-white/5":""} ${t.isOfficial?"bg-green-900/20":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(t.isOfficial?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-purple-600/30"),children:t.isOfficial?e.jsx(y,{className:"text-white"}):e.jsx(M,{className:"text-purple-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium "+(t.isOfficial?"text-green-400":"text-white"),children:(null==(a=t.user)?void 0:a.name)||"Store"}),t.isOfficial&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-500/20 text-green-400 rounded-full",children:"Official"}),e.jsx("span",{className:"text-xs text-gray-500",children:Se(t.createdAt)})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:t.answer})]})]})},t._id||s)})})})]}),e.jsx("div",{className:"border-t border-white/10",children:g?e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),f.trim()){w(!0);try{await a(s._id,f),j(""),b(!1),h(!0)}finally{w(!1)}}},className:"p-4",children:[e.jsx("textarea",{value:f,onChange:e=>j(e.target.value),placeholder:"Write your answer...",rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none resize-none"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:v||!f.trim(),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-cyan-600 text-white rounded-xl font-medium disabled:opacity-50 flex items-center gap-2",children:[v?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(C,{}),"Submit Answer"]})]})]}):e.jsxs("button",{onClick:()=>b(!0),className:"w-full px-4 py-3 text-sm text-gray-400 hover:text-cyan-400 flex items-center justify-center gap-2 transition-colors",children:[e.jsx(z,{}),"Answer this question"]})})]})},Me=({productId:s,productName:a})=>{const[i,r]=t.useState([]),[l,o]=t.useState(!0),[n,c]=t.useState(!1),[d,m]=t.useState(""),[p,u]=t.useState(!1),[x,h]=t.useState("recent"),{user:g,isAuthenticated:y}=ce(e=>e.auth);t.useEffect(()=>{b()},[s,x]);const b=async()=>{try{o(!0);const{data:e}=await N.get(`/products/${s}/questions?sort=${x}`);r(e.questions||[])}catch(e){r([])}finally{o(!1)}},f=async(e,t)=>{try{const{data:a}=await N.post(`/products/${s}/questions/${e}/answers`,{answer:t});r(t=>t.map(t=>t._id===e?{...t,answers:[...t.answers||[],a.answer]}:t)),pe.success("Answer posted!")}catch(a){pe.error("Failed to post answer")}},j=async(e,t)=>{if(y)try{await N.post(`/products/${s}/questions/${e}/vote`,{type:t}),r(s=>s.map(s=>{if(s._id===e){const e=s.userVote;let a=s.votes||0;return e===t?(a="up"===t?a-1:a+1,{...s,votes:a,userVote:null}):e?(a="up"===t?a+2:a-2,{...s,votes:a,userVote:t}):(a="up"===t?a+1:a-1,{...s,votes:a,userVote:t})}return s}))}catch(a){pe.error("Failed to vote")}else pe.error("Please login to vote")},v=async e=>{if(confirm("Are you sure you want to delete this question?"))try{await N.delete(`/products/${s}/questions/${e}`),r(t=>t.filter(t=>t._id!==e)),pe.success("Question deleted")}catch(t){pe.error("Failed to delete question")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e.jsx(k,{className:"text-cyan-400"}),"Customer Questions & Answers"]}),e.jsxs("select",{value:x,onChange:e=>h(e.target.value),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:border-cyan-500 outline-none",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"votes",children:"Most Votes"}),e.jsx("option",{value:"answered",children:"Answered First"})]})]}),e.jsx(me,{mode:"wait",children:n?e.jsxs(de.form,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onSubmit:async e=>{var t,a;if(e.preventDefault(),d.trim())if(y){u(!0);try{const{data:e}=await N.post(`/products/${s}/questions`,{question:d});r(t=>[e.question,...t]),m(""),c(!1),pe.success("Question posted successfully!")}catch(i){pe.error((null==(a=null==(t=i.response)?void 0:t.data)?void 0:a.message)||"Failed to post question")}finally{u(!1)}}else pe.error("Please login to ask a question")},className:"bg-gradient-to-r from-purple-900/30 to-cyan-900/30 border border-purple-500/30 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Ask a Question"}),e.jsx("textarea",{value:d,onChange:e=>m(e.target.value),placeholder:`Ask a question about "${a}"...`,rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none resize-none"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 mb-4",children:"Be specific about your question. Include any relevant details."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:p||!d.trim(),className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-cyan-600 text-white rounded-xl font-medium disabled:opacity-50 flex items-center gap-2",children:[p?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(C,{}),"Post Question"]})]})]}):e.jsxs(de.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(!0),className:"w-full py-4 border-2 border-dashed border-white/20 hover:border-cyan-500/50 rounded-2xl text-gray-400 hover:text-cyan-400 transition-all flex items-center justify-center gap-2",children:[e.jsx(k,{}),"Have a question? Ask the community"]})}),l?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsx("div",{className:"bg-white/5 rounded-2xl p-4 animate-pulse",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-24 bg-white/10 rounded-xl"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]})},t))}):0===i.length?e.jsxs("div",{className:"text-center py-12 bg-white/5 rounded-2xl",children:[e.jsx(k,{className:"text-5xl text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Questions Yet"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Be the first to ask about this product!"}),e.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-cyan-600 text-white rounded-xl font-medium",children:"Ask a Question"})]}):e.jsx("div",{className:"space-y-4",children:i.map(t=>e.jsx(qe,{question:t,onAnswer:f,onVote:j,onDelete:v,isAdmin:"admin"===(null==g?void 0:g.role),currentUserId:null==g?void 0:g._id},t._id))})]})},$e=({rating:s,setRating:a,size:i="md"})=>{const[r,l]=t.useState(0),o={sm:"text-lg",md:"text-2xl",lg:"text-3xl"};return e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(t=>e.jsx("button",{type:"button",onClick:()=>a(t),onMouseEnter:()=>l(t),onMouseLeave:()=>l(0),className:`${o[i]} transition-transform hover:scale-110`,children:e.jsx(A,{className:"transition-colors "+((r||s)>=t?"text-yellow-400 fill-yellow-400":"text-gray-500")})},t))})},Pe=({images:s,setImages:a,maxImages:i=5})=>{const r=t.useRef(null);return e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Add Photos (Optional)"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.map(t=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:t.preview,alt:"Review",className:"w-20 h-20 rounded-xl object-cover border border-white/10"}),e.jsx("button",{type:"button",onClick:()=>{return e=t.id,void a(t=>{const s=t.find(t=>t.id===e);return(null==s?void 0:s.preview)&&URL.revokeObjectURL(s.preview),t.filter(t=>t.id!==e)});var e},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(c,{className:"text-sm"})})]},t.id)),s.length<i&&e.jsxs("button",{type:"button",onClick:()=>{var e;return null==(e=r.current)?void 0:e.click()},className:"w-20 h-20 rounded-xl border-2 border-dashed border-white/20 hover:border-cyan-500 flex flex-col items-center justify-center text-gray-400 hover:text-cyan-400 transition-colors",children:[e.jsx(R,{className:"text-xl mb-1"}),e.jsx("span",{className:"text-xs",children:"Add"})]}),e.jsx("input",{ref:r,type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).filter(e=>e.type.startsWith("image/")?!(e.size>5242880)||(pe.error(`${e.name} is too large (max 5MB)`),!1):(pe.error(`${e.name} is not an image`),!1));if(s.length+t.length>i)return void pe.error(`Maximum ${i} images allowed`);const r=t.map(e=>({file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).substr(2,9)}));a(e=>[...e,...r])},className:"hidden"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Add up to ",i," images. Max 5MB each."]})]})},ze=({productId:s,onSuccess:a,onCancel:i})=>{const[r,l]=t.useState(0),[o,n]=t.useState(""),[c,d]=t.useState(""),[m,p]=t.useState([]),[u,x]=t.useState(""),[h,g]=t.useState(""),[b,f]=t.useState(!0),[j,v]=t.useState(!1),{user:w}=ce(e=>e.auth);return e.jsxs(de.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},onSubmit:async e=>{var t,i;if(e.preventDefault(),r)if(c.trim()){v(!0);try{const e=new FormData;e.append("rating",r),e.append("title",o),e.append("comment",c),e.append("pros",u),e.append("cons",h),e.append("recommend",b),m.forEach(t=>{e.append("images",t.file)}),await N.post(`/products/${s}/reviews`,e,{headers:{"Content-Type":"multipart/form-data"}}),pe.success("Review submitted successfully!"),null==a||a()}catch(l){pe.error((null==(i=null==(t=l.response)?void 0:t.data)?void 0:i.message)||"Failed to submit review")}finally{v(!1)}}else pe.error("Please write a review");else pe.error("Please select a rating")},className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 border border-white/10 space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Write a Review"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300",children:["Your Rating ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx($e,{rating:r,setRating:l,size:"lg"}),r>0&&e.jsx("span",{className:"text-lg font-medium text-yellow-400",children:{1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"}[r]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Review Title"}),e.jsx("input",{type:"text",value:o,onChange:e=>n(e.target.value),placeholder:"Sum up your experience...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300",children:["Your Review ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"What did you like or dislike? How was the quality?",rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-green-400",children:[e.jsx(S,{className:"inline mr-1"}),"Pros"]}),e.jsx("textarea",{value:u,onChange:e=>x(e.target.value),placeholder:"What did you like?",rows:2,className:"w-full px-4 py-3 bg-green-900/20 border border-green-500/30 rounded-xl text-white placeholder-gray-500 focus:border-green-500 focus:ring-1 focus:ring-green-500 outline-none resize-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-red-400",children:[e.jsx(q,{className:"inline mr-1"}),"Cons"]}),e.jsx("textarea",{value:h,onChange:e=>g(e.target.value),placeholder:"What could be better?",rows:2,className:"w-full px-4 py-3 bg-red-900/20 border border-red-500/30 rounded-xl text-white placeholder-gray-500 focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none resize-none"})]})]}),e.jsx(Pe,{images:m,setImages:p}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Would you recommend this product?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>f(!0),className:"px-4 py-2 rounded-xl flex items-center gap-2 transition-colors "+(b?"bg-green-600 text-white":"bg-white/5 text-gray-400 hover:text-white"),children:[e.jsx(S,{}),"Yes"]}),e.jsxs("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 rounded-xl flex items-center gap-2 transition-colors "+(b?"bg-white/5 text-gray-400 hover:text-white":"bg-red-600 text-white"),children:[e.jsx(q,{}),"No"]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/10",children:[i&&e.jsx("button",{type:"button",onClick:i,className:"px-6 py-3 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:j,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-cyan-600 text-white rounded-xl font-semibold disabled:opacity-50 flex items-center gap-2",children:[j?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(y,{}),"Submit Review"]})]})]})},Ae=({product:s,url:a,title:i,description:r,image:l})=>{var o,n,c;const[d,m]=t.useState(!1),[p,u]=t.useState(!1),[x,h]=t.useState(!1),g=a||window.location.href,y=i||(null==s?void 0:s.name)||"Check this out!",b=r||(null==s?void 0:s.description)||"",f=l||(null==(n=null==(o=null==s?void 0:s.images)?void 0:o[0])?void 0:n.url)||"",j=[{name:"WhatsApp",icon:I,color:"#25D366",bgColor:"bg-green-500",getUrl:()=>`https://wa.me/?text=${encodeURIComponent(`${y}\n${g}`)}`,primary:!0},{name:"Facebook",icon:W,color:"#1877F2",bgColor:"bg-blue-600",getUrl:()=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(g)}&quote=${encodeURIComponent(y)}`,primary:!0},{name:"Twitter",icon:_,color:"#1DA1F2",bgColor:"bg-sky-500",getUrl:()=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(y)}&url=${encodeURIComponent(g)}`,primary:!0},{name:"Instagram",icon:F,color:"#E4405F",bgColor:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400",getUrl:()=>null,action:"copy",primary:!0},{name:"Pinterest",icon:L,color:"#BD081C",bgColor:"bg-red-600",getUrl:()=>`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(g)}&media=${encodeURIComponent(f)}&description=${encodeURIComponent(y)}`,primary:!1},{name:"LinkedIn",icon:B,color:"#0A66C2",bgColor:"bg-blue-700",getUrl:()=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(g)}`,primary:!1},{name:"Telegram",icon:U,color:"#0088CC",bgColor:"bg-sky-600",getUrl:()=>`https://t.me/share/url?url=${encodeURIComponent(g)}&text=${encodeURIComponent(y)}`,primary:!1},{name:"Reddit",icon:E,color:"#FF4500",bgColor:"bg-orange-600",getUrl:()=>`https://reddit.com/submit?url=${encodeURIComponent(g)}&title=${encodeURIComponent(y)}`,primary:!1},{name:"Email",icon:H,color:"#EA4335",bgColor:"bg-red-500",getUrl:()=>`mailto:?subject=${encodeURIComponent(y)}&body=${encodeURIComponent(`${b}\n\n${g}`)}`,primary:!1}],v=async e=>{if("copy"===e.action)return await w(),void ue.success(`Link copied! Now share it on ${e.name}`);const t=e.getUrl();t&&window.open(t,"_blank","width=600,height=400")},w=async()=>{try{await navigator.clipboard.writeText(g),m(!0),setTimeout(()=>m(!1),2e3),ue.success("Link copied to clipboard!")}catch(e){ue.error("Failed to copy link")}},N=j.filter(e=>e.primary),k=j.filter(e=>!e.primary);return e.jsxs("div",{className:"relative",children:[e.jsxs(de.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(navigator.share)try{await navigator.share({title:y,text:b,url:g})}catch(e){e.name}else h(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-xl text-white transition-all",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Share"})]}),x&&e.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:e.jsxs(de.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 max-w-md w-full border border-gray-700",onClick:e=>e.stopPropagation(),children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(D,{className:"text-purple-400"}),"Share this product"]}),s&&e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-black/30 rounded-xl mb-6",children:[(null==(c=s.images)?void 0:c[0])&&e.jsx("img",{src:s.images[0].url,alt:s.name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium truncate",children:s.name}),e.jsxs("p",{className:"text-purple-400 font-bold",children:["$",s.price]})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mb-4",children:N.map(t=>{const s=t.icon;return e.jsxs(de.button,{whileHover:{scale:1.1,y:-5},whileTap:{scale:.9},onClick:()=>v(t),className:`flex flex-col items-center gap-2 p-4 rounded-xl ${t.bgColor} text-white`,children:[e.jsx(s,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs",children:t.name})]},t.name)})}),e.jsx("div",{className:"grid grid-cols-5 gap-2 mb-6",children:k.map(t=>{const s=t.icon;return e.jsxs(de.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>v(t),className:"flex flex-col items-center gap-1 p-3 rounded-xl bg-gray-800 hover:bg-gray-700 transition-colors",children:[e.jsx(s,{className:"w-5 h-5",style:{color:t.color}}),e.jsx("span",{className:"text-xs text-gray-400",children:t.name})]},t.name)})}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("div",{className:"flex-1 px-4 py-3 bg-black/30 rounded-xl text-gray-400 text-sm truncate",children:g}),e.jsx(de.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,className:"px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl flex items-center gap-2",children:d?e.jsx(T,{}):e.jsx(O,{})})]}),e.jsxs(de.button,{whileHover:{scale:1.02},onClick:()=>u(!p),className:"w-full py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-xl flex items-center justify-center gap-2",children:[e.jsx(V,{}),p?"Hide":"Show"," QR Code"]}),p&&e.jsx(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 flex justify-center",children:e.jsx("div",{className:"p-4 bg-white rounded-xl",children:e.jsx(xe,{value:g,size:150,level:"H",includeMargin:!0})})}),e.jsx(de.button,{whileHover:{scale:1.02},onClick:()=>h(!1),className:"w-full mt-4 py-3 text-gray-400 hover:text-white",children:"Close"})]})})]})},Re=()=>{var i,r,l,o,n,d,m,u,x,g,b,f,j,v,w,N;const{id:C}=a(),S=ne(),q=s(),{currentProduct:M,loading:$}=ce(e=>e.products),{items:P}=ce(e=>e.wishlist),[z,R]=t.useState(null),[I,W]=t.useState(0),[_,F]=t.useState(1),[L,B]=t.useState("description"),[U,E]=t.useState(!1),[H,D]=t.useState({x:0,y:0}),[T,O]=t.useState(!1),[V,ue]=t.useState(!1),[xe,be]=t.useState(!1),[ve,we]=t.useState(!1),Ce=[(null==(r=null==(i=null==z?void 0:z.images)?void 0:i[0])?void 0:r.url)||(null==z?void 0:z.image),(null==(o=null==(l=null==z?void 0:z.images)?void 0:l[1])?void 0:o.url)||(null==(d=null==(n=null==z?void 0:z.images)?void 0:n[0])?void 0:d.url)||(null==z?void 0:z.image),(null==(u=null==(m=null==z?void 0:z.images)?void 0:m[2])?void 0:u.url)||(null==(g=null==(x=null==z?void 0:z.images)?void 0:x[0])?void 0:g.url)||(null==z?void 0:z.image)];if(t.useEffect(()=>{W(0),F(1),B("description"),S(X(C))},[C,S]),t.useEffect(()=>{if(M&&M._id===C)R(M);else if(!$&&!M){const e=ye.find(e=>e._id===C)||ye[0];e&&R(e)}},[M,C,$]),$||!z)return e.jsx(G,{text:"Loading magical product..."});const Se=P.some(e=>e._id===z._id),qe=()=>{S(re({product:z._id,name:z.name,price:z.price,image:z.image,quantity:_})),pe.success("ðŸ›’ Added to cart!",{style:{background:"linear-gradient(135deg, rgb(139, 92, 246), rgb(59, 130, 246))",color:"#fff",borderRadius:"12px"}})},$e=[{icon:te,title:"Free Shipping",desc:"On orders over $50"},{icon:se,title:"Secure Payment",desc:"100% secure checkout"},{icon:ae,title:"30-Day Returns",desc:"Easy return policy"},{icon:ie,title:"Quality Guarantee",desc:"Premium products"}];return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{children:[e.jsx("title",{children:`${z.name||"Product"} - NexusMart`}),e.jsx("meta",{name:"description",content:z.description||"Product details"})]}),e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 overflow-hidden -z-10 bg-gradient-to-br from-purple-950 via-gray-950 to-purple-950/50"}),e.jsx("div",{className:"relative py-6 border-b border-purple-500/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-purple-300/70",children:[e.jsx("button",{onClick:()=>q("/"),className:"hover:text-cyan-400",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx("button",{onClick:()=>q("/products"),className:"hover:text-cyan-400",children:"Products"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-purple-300",children:"object"==typeof z.category?null==(b=z.category)?void 0:b.name:z.category}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-cyan-400",children:z.name})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs(de.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"relative h-[500px] rounded-2xl overflow-hidden perspective-1000 glass-card p-4",style:{transformStyle:"preserve-3d"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 via-blue-500/20 to-cyan-500/20 blur-3xl"}),z.discount&&e.jsx("div",{className:"absolute top-8 left-8 z-20",children:e.jsxs(de.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-red-500 rounded-xl\r\n                               text-white font-bold text-lg shadow-lg shadow-pink-500/50",children:["-",z.discount,"% OFF"]})}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:Ce.map((t,s)=>{const a=(s-I+Ce.length)%Ce.length,i=0===a,r=a===Ce.length-1,l=1===a;return e.jsx(de.div,{animate:{x:i?0:r?-200:l?200:400,scale:i?1:.6,z:i?0:-100,opacity:i?1:r||l?.4:0,rotateY:i?H.y:r?-45:l?45:0,rotateX:i?H.x:0},transition:{type:"spring",stiffness:100,damping:20},className:"absolute cursor-pointer",style:{transformStyle:"preserve-3d"},onClick:()=>{W(s)},children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl "+(i?"w-80 h-80 shadow-purple-500/50":"w-64 h-64"),children:[e.jsx("img",{src:t,alt:`${z.name} - View ${s+1}`,className:"w-full h-full object-cover"}),i&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-500/10 via-transparent to-blue-500/10"})]})},s)})}),e.jsx("button",{onClick:()=>W(e=>(e-1+Ce.length)%Ce.length),className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 p-3 bg-white/10 backdrop-blur-xl rounded-full text-white hover:bg-white/20 transition-all",children:e.jsx(J,{className:"text-2xl"})}),e.jsx("button",{onClick:()=>W(e=>(e+1)%Ce.length),className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 p-3 bg-white/10 backdrop-blur-xl rounded-full text-white hover:bg-white/20 transition-all",children:e.jsx(Q,{className:"text-2xl"})}),e.jsx("button",{onClick:()=>we(!0),className:"absolute bottom-8 right-8 z-20 p-4 bg-gray-900/80 hover:bg-gray-900\r\n                           border-2 border-purple-500/30 hover:border-cyan-500\r\n                           rounded-xl text-purple-300 hover:text-cyan-400\r\n                           transition-all duration-300 backdrop-blur-sm",children:e.jsx(h,{className:"text-2xl"})})]}),e.jsx("div",{className:"flex justify-center gap-3",children:Ce.map((t,s)=>e.jsx(de.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>{W(s)},className:"w-3 h-3 rounded-full transition-all "+(I===s?"bg-gradient-to-r from-purple-500 to-pink-500 w-8":"bg-gray-600 hover:bg-gray-500")},s))})]}),e.jsxs(de.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsx("div",{className:"inline-block px-4 py-2 bg-gradient-to-r from-purple-600/20 to-blue-600/20 \r\n                            border border-purple-500/30 rounded-xl",children:e.jsx("span",{className:"text-cyan-400 font-semibold",children:"object"==typeof z.category?null==(f=z.category)?void 0:f.name:z.category})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",style:{fontFamily:"Orbitron, sans-serif"},children:e.jsx("span",{className:"gradient-text",children:z.name})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:5}).map((t,s)=>e.jsx(A,{className:"text-xl "+(s<Math.floor(z.rating||4.5)?"text-yellow-400 fill-yellow-400":"text-gray-600")},s))}),e.jsxs("span",{className:"text-purple-300",children:[z.rating||4.5," (",z.reviews||0," reviews)"]})]}),e.jsx(ge,{productId:z._id}),e.jsxs("div",{className:"flex items-baseline space-x-4",children:[e.jsxs("span",{className:"text-5xl font-bold gradient-text",children:["$",z.price]}),z.originalPrice&&e.jsxs("span",{className:"text-2xl text-purple-300/50 line-through",children:["$",z.originalPrice]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:z.stock>0?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"text-green-400 text-xl"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["In Stock (",z.stock," available)"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"text-red-400 text-xl"}),e.jsx("span",{className:"text-red-400 font-semibold",children:"Out of Stock"})]})}),e.jsx("p",{className:"text-purple-300/70 text-lg leading-relaxed",children:z.description}),e.jsxs("div",{className:"glass-card p-6 rounded-2xl relative z-20",children:[e.jsx("label",{className:"block text-purple-300 font-semibold mb-3",children:"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>F(Math.max(1,_-1)),className:"w-12 h-12 bg-purple-500/10 hover:bg-purple-500/20 border-2 border-purple-500/30\r\n                             rounded-xl text-purple-300 hover:text-cyan-400 transition-all duration-300\r\n                             flex items-center justify-center text-2xl font-bold relative z-30 cursor-pointer",style:{pointerEvents:"auto"},children:"âˆ’"}),e.jsx("span",{className:"text-3xl font-bold text-purple-300 w-16 text-center",children:_}),e.jsx("button",{onClick:()=>F(Math.min(z.stock,_+1)),disabled:_>=z.stock,className:"w-12 h-12 bg-purple-500/10 hover:bg-purple-500/20 border-2 border-purple-500/30\r\n                             rounded-xl text-purple-300 hover:text-cyan-400 transition-all duration-300\r\n                             flex items-center justify-center text-2xl font-bold relative z-30 cursor-pointer\r\n                             disabled:opacity-50 disabled:cursor-not-allowed",style:{pointerEvents:"auto"},children:"+"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(K,{variant:"3d",fullWidth:!0,onClick:qe,icon:p,disabled:0===z.stock,children:"Add to Cart"}),e.jsx(K,{variant:"neon",fullWidth:!0,onClick:()=>{qe(),q("/cart")},disabled:0===z.stock,children:"Buy Now"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(K,{variant:"glass",fullWidth:!0,onClick:()=>{var e;if(Se)S(le(z._id)),pe.success("ðŸ’” Removed from wishlist",{style:{background:"linear-gradient(135deg, rgb(220, 38, 38), rgb(190, 24, 93))",color:"#fff",borderRadius:"12px"}});else{const t={...z,category:"object"==typeof z.category?null==(e=z.category)?void 0:e.name:z.category};S(oe(t)),pe.success("â¤ï¸ Added to wishlist!",{style:{background:"linear-gradient(135deg, rgb(236, 72, 153), rgb(219, 39, 119))",color:"#fff",borderRadius:"12px"}})}},icon:Z,className:Se?"text-pink-400 border-pink-500/50":"",children:Se?"Wishlisted":"Add to Wishlist"}),e.jsx(K,{variant:"glass",fullWidth:!0,onClick:()=>be(!0),icon:ee,children:"Share"})]}),["clothing","shoes","fashion"].some(e=>{var t;return("string"==typeof z.category?z.category:(null==(t=z.category)?void 0:t.name)||"").toLowerCase().includes(e)})&&e.jsx(K,{variant:"glass",fullWidth:!0,onClick:()=>O(!0),children:"ðŸ“ View Size Guide"}),0===z.stock&&e.jsx(K,{variant:"neon",fullWidth:!0,onClick:()=>ue(!0),icon:k,children:"ðŸ”” Notify When Available"}),e.jsx("div",{className:"glass-card p-6 rounded-2xl",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:$e.map((t,s)=>e.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-blue-600 \r\n                                    rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(t.icon,{className:"text-white text-lg"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-300 font-semibold text-sm",children:t.title}),e.jsx("p",{className:"text-purple-300/50 text-xs",children:t.desc})]})]},s))})})]})]}),e.jsx(de.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-16",children:e.jsxs("div",{className:"glass-card rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"flex border-b border-purple-500/20 relative z-20",children:["description","specifications","reviews","q&a"].map(t=>e.jsx("button",{onClick:()=>B(t),className:"flex-1 px-6 py-4 text-lg font-semibold capitalize transition-all duration-300 relative z-10 cursor-pointer "+(L===t?"text-cyan-400 bg-purple-500/10 border-b-2 border-cyan-500":"text-purple-300/70 hover:text-purple-300 hover:bg-purple-500/5"),style:{pointerEvents:"auto"},children:"q&a"===t?"Q&A":t},t))}),e.jsx("div",{className:"p-8",children:e.jsxs(me,{mode:"wait",children:["description"===L&&e.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Product Description"}),e.jsx("p",{className:"text-purple-300/70 leading-relaxed",children:z.description||"This product features cutting-edge technology and premium quality materials. Perfect for those who demand the best in performance and style."})]},"description"),"specifications"===L&&e.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsx("h3",{className:"text-2xl font-bold gradient-text mb-4",children:"Specifications"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{label:"Brand",value:"Premium"},{label:"Model",value:z.name},{label:"Category",value:"object"==typeof z.category?null==(j=z.category)?void 0:j.name:z.category},{label:"Stock",value:z.stock}].map((t,s)=>e.jsxs("div",{className:"flex justify-between p-4 bg-purple-500/5 rounded-xl",children:[e.jsx("span",{className:"text-purple-300/70",children:t.label}),e.jsx("span",{className:"text-purple-300 font-semibold",children:t.value})]},s))})]},"specifications"),"reviews"===L&&e.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsx(ze,{productId:z._id})},"reviews"),"q&a"===L&&e.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsx(Me,{productId:z._id,productName:z.name})},"qa")]})})]})}),e.jsx(de.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-16",children:e.jsx(fe,{currentProductId:z._id})}),e.jsx(de.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 max-w-xl",children:e.jsx(he,{productId:z._id,currentPrice:z.price})})]})]}),e.jsx(me,{children:U&&e.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>E(!1),className:"fixed inset-0 z-[60] bg-gray-950/95 backdrop-blur-xl flex items-center justify-center p-4",children:e.jsx(de.img,{initial:{scale:.5},animate:{scale:1},exit:{scale:.5},src:(null==(w=null==(v=z.images)?void 0:v[I])?void 0:w.url)||z.image,alt:z.name,className:"max-w-full max-h-full rounded-2xl",onClick:e=>e.stopPropagation()})})}),e.jsx(Ne,{isOpen:T,onClose:()=>O(!1),category:"string"==typeof z.category?z.category:null==(N=z.category)?void 0:N.name}),e.jsx(ke,{isOpen:V,onClose:()=>ue(!1),productId:z._id,productName:z.name}),e.jsx(Ae,{isOpen:xe,onClose:()=>be(!1),product:z}),e.jsx(je,{isOpen:ve,onClose:()=>we(!1),images:Ce,productName:z.name,initialIndex:I})]})};export{Re as default};
