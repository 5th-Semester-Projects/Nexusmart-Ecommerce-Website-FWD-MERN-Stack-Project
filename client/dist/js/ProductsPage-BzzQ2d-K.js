import{j as e}from"./three-vendor-CzW0C-3o.js";import{r as t,u as a,L as s,d as i}from"./react-vendor-CEWkFM1H.js";import{i as r,B as l,n as o,o as n,p as c,q as d,r as x,c as h,s as m,t as p,u,v as g,w as b,j as f,k as y,x as v,y as j,z as w,A as N,C as k,P,H as C,D as M,E as S,G as z,I as F}from"./index-D4fnEueO.js";import{u as T,d as $}from"./redux-vendor-DwxIzyaR.js";import{P as A}from"./ProductGrid-C_DiuWHy.js";import{m as E,A as H,z as O}from"./ui-vendor-CDnMNP0Y.js";import{E as L}from"./Enhanced3DBackground-BfbaAv7-.js";import{M as R}from"./MagicalGenie-CKiHkUoH.js";const I=({filters:a,onFilterChange:s,onClearFilters:i,products:c=[]})=>{const[d,x]=t.useState({category:!0,price:!0,rating:!0}),h=t.useMemo(()=>{const e={};return c.forEach(t=>{var a;const s="object"==typeof t.category?null==(a=t.category)?void 0:a.name:t.category;if(s){const t=s.toLowerCase();e[t]=(e[t]||0)+1}}),[{value:"men",label:"ðŸ‘” Men",count:e.men||0},{value:"women",label:"ðŸ‘— Women",count:e.women||0},{value:"electronics",label:"ðŸ“± Electronics",count:e.electronics||0}]},[c]),m=({title:t,sectionKey:a,children:s})=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>{return e=a,void x(t=>({...t,[e]:!t[e]}));var e},className:"w-full flex items-center justify-between mb-4 text-purple-300 hover:text-cyan-400\r\n                 transition-colors duration-300",children:[e.jsx("h3",{className:"text-lg font-bold",style:{fontFamily:"Orbitron, sans-serif"},children:t}),d[a]?e.jsx(o,{className:"text-xl"}):e.jsx(n,{className:"text-xl"})]}),d[a]&&e.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:s})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{title:"Category",sectionKey:"category",children:h.map(t=>e.jsx(E.button,{whileHover:{x:5},whileTap:{scale:.95},onClick:()=>{return e=t.value,void s({...a,category:a.category===e?"":e});var e},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 relative z-10 cursor-pointer "+(a.category===t.value?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg shadow-purple-500/30":"bg-purple-500/5 hover:bg-purple-500/10 text-purple-300 border border-purple-500/20"),style:{pointerEvents:"auto"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold",children:t.label}),e.jsxs("span",{className:"text-sm opacity-70",children:["(",t.count,")"]})]})},t.value))}),e.jsx(m,{title:"Price Range",sectionKey:"price",children:[{label:"Under $50",min:0,max:50},{label:"$50 - $100",min:50,max:100},{label:"$100 - $200",min:100,max:200},{label:"$200 - $500",min:200,max:500},{label:"Above $500",min:500,max:1e4}].map((t,i)=>{const r=a.minPrice===t.min&&a.maxPrice===t.max;return e.jsx(E.button,{whileHover:{x:5},whileTap:{scale:.95},onClick:e=>{var i,r;e.preventDefault(),e.stopPropagation(),i=t.min,r=t.max,s({...a,minPrice:i,maxPrice:r})},style:{pointerEvents:"auto"},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 cursor-pointer relative z-10 "+(r?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white shadow-lg shadow-cyan-500/30":"bg-purple-500/5 hover:bg-purple-500/10 text-purple-300 border border-purple-500/20"),children:e.jsx("span",{className:"font-semibold",children:t.label})},i)})}),e.jsx(m,{title:"Customer Rating",sectionKey:"rating",children:[{value:5,label:"5"},{value:4,label:"4"},{value:3,label:"3"},{value:2,label:"2"},{value:1,label:"1"}].map(t=>e.jsx(E.button,{whileHover:{x:5},whileTap:{scale:.95},onClick:e=>{var i;e.preventDefault(),e.stopPropagation(),i=t.value,s({...a,rating:a.rating===i?0:i})},style:{pointerEvents:"auto"},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 cursor-pointer relative z-10 "+(a.rating===t.value?"bg-gradient-to-r from-yellow-600 to-orange-600 text-white shadow-lg shadow-yellow-500/30":"bg-purple-500/5 hover:bg-purple-500/10 text-purple-300 border border-purple-500/20"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex",children:Array.from({length:5}).map((s,i)=>e.jsx(r,{className:"text-sm "+(i<Math.floor(t.value)?a.rating===t.value?"text-white fill-white":"text-yellow-400 fill-yellow-400":i===Math.floor(t.value)&&t.value%1!=0?a.rating===t.value?"text-white fill-white opacity-50":"text-yellow-400 fill-yellow-400 opacity-50":"text-gray-600")},i))}),e.jsxs("span",{className:"font-semibold",children:[t.label," Stars"]})]})},t.value))}),(a.category||a.minPrice||a.rating)&&e.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx(l,{variant:"cyber",fullWidth:!0,onClick:i,children:"Clear All Filters"})})]})},D=({product:i,onClose:l,relatedProducts:o=[]})=>{var n,k,P,C,M,S,z,F,A,R;const I=T(),D=a(),{items:_}=$(e=>e.wishlist),[W,B]=t.useState(0),[K,q]=t.useState(1),[G,V]=t.useState("description"),[X,Y]=t.useState({x:0,y:0}),Q=_.some(e=>e._id===i._id),U=[null==(k=null==(n=i.images)?void 0:n[0])?void 0:k.url,(null==(C=null==(P=i.images)?void 0:P[1])?void 0:C.url)||(null==(S=null==(M=i.images)?void 0:M[0])?void 0:S.url),(null==(F=null==(z=i.images)?void 0:z[2])?void 0:F.url)||(null==(R=null==(A=i.images)?void 0:A[0])?void 0:R.url)],J=i.ratings||4.5,Z=i.numOfReviews||0;return e.jsx(H,{children:e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-xl",onClick:l,children:e.jsxs(E.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25},onClick:e=>e.stopPropagation(),className:"relative w-full max-w-7xl max-h-[95vh] overflow-y-auto bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 rounded-3xl shadow-2xl border border-purple-500/30",children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:e.jsx(L,{intensity:"medium",colorScheme:"gradient"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(E.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:l,className:"absolute top-6 right-6 z-50 p-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full text-white shadow-lg shadow-purple-500/50",children:e.jsx(c,{className:"text-xl"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"sticky top-8",children:[e.jsxs(E.div,{className:"relative h-[500px] rounded-2xl overflow-hidden perspective-1000",style:{transformStyle:"preserve-3d"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 via-blue-500/20 to-cyan-500/20 blur-3xl"}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:U.map((t,a)=>{const s=(a-W+U.length)%U.length,r=0===s,l=s===U.length-1,o=1===s;return e.jsx(E.div,{animate:{x:r?0:l?-200:o?200:400,scale:r?1:.6,z:r?0:-100,opacity:r?1:l||o?.4:0,rotateY:r?X.y:l?-45:o?45:0,rotateX:r?X.x:0},transition:{type:"spring",stiffness:100,damping:20},className:"absolute cursor-pointer",style:{transformStyle:"preserve-3d"},onClick:()=>{B(a)},children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl "+(r?"w-80 h-80 shadow-purple-500/50":"w-64 h-64"),children:[e.jsx("img",{src:t,alt:`${i.name} - View ${a+1}`,className:"w-full h-full object-cover"}),r&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-500/10 via-transparent to-blue-500/10"})]})},a)})}),e.jsx("button",{onClick:()=>B(e=>(e-1+U.length)%U.length),className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 p-3 bg-white/10 backdrop-blur-xl rounded-full text-white hover:bg-white/20 transition-all",children:e.jsx(d,{className:"text-2xl"})}),e.jsx("button",{onClick:()=>B(e=>(e+1)%U.length),className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 p-3 bg-white/10 backdrop-blur-xl rounded-full text-white hover:bg-white/20 transition-all",children:e.jsx(x,{className:"text-2xl"})})]}),e.jsx("div",{className:"flex justify-center gap-3 mt-6",children:U.map((t,a)=>e.jsx(E.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>{B(a)},className:"w-3 h-3 rounded-full transition-all "+(W===a?"bg-gradient-to-r from-purple-500 to-pink-500 w-8":"bg-gray-600 hover:bg-gray-500")},a))})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.category&&e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 text-purple-300 border border-purple-500/30",children:"object"==typeof i.category?i.category.name:i.category}),i.featured&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-300 border border-yellow-500/30 flex items-center gap-1",children:[e.jsx(h,{className:"text-xs"})," Featured"]})]}),e.jsx("h2",{className:"text-4xl font-bold text-white mb-4 gradient-text",children:i.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Array.from({length:5}).map((t,a)=>e.jsx(r,{className:""+(a<Math.floor(J)?"text-yellow-400 fill-yellow-400":"text-gray-600")},a)),e.jsx("span",{className:"text-white font-semibold",children:J})]}),e.jsxs("span",{className:"text-gray-400",children:["(",Z," reviews)"]})]}),e.jsxs("div",{className:"flex items-baseline gap-4 mb-6",children:[e.jsxs("span",{className:"text-5xl font-bold gradient-text",children:["$",i.price]}),i.originalPrice&&e.jsxs("span",{className:"text-2xl text-gray-500 line-through",children:["$",i.originalPrice]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(m,{className:i.stock>0?"text-green-400":"text-red-400"}),e.jsx("span",{className:i.stock>0?"text-green-400":"text-red-400",children:i.stock>0?`${i.stock} in stock`:"Out of stock"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-gray-400",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center gap-3 bg-gray-800/50 rounded-full p-1",children:[e.jsx("button",{onClick:()=>q(Math.max(1,K-1)),className:"p-2 hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(p,{className:"text-white"})}),e.jsx("span",{className:"text-white font-semibold px-4",children:K}),e.jsx("button",{onClick:()=>q(Math.min(i.stock,K+1)),className:"p-2 hover:bg-gray-700 rounded-full transition-colors",children:e.jsx(u,{className:"text-white"})})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var e,t;I(j({product:i._id,name:i.name,price:i.price,image:null==(t=null==(e=i.images)?void 0:e[0])?void 0:t.url,stock:i.stock,quantity:K})),O.success(`Added ${K}x ${i.name} to cart!`,{icon:"ðŸ›’",style:{borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff"}})},disabled:0===i.stock,className:"flex-1 py-4 px-6 bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600 text-white rounded-2xl font-semibold text-lg shadow-lg shadow-purple-500/50 hover:shadow-xl hover:shadow-purple-500/70 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(g,{className:"text-xl"}),"Add to Cart"]}),e.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{var e;if(Q)I(w(i._id)),O.success("Removed from wishlist");else{const t={...i,category:"object"==typeof i.category?null==(e=i.category)?void 0:e.name:i.category};I(N(t)),O.success("Added to wishlist!")}},className:"p-4 rounded-2xl transition-all "+(Q?"bg-gradient-to-r from-pink-600 to-red-600 text-white shadow-lg shadow-pink-500/50":"bg-gray-800 text-gray-400 hover:text-pink-500"),children:e.jsx(b,{className:"text-2xl "+(Q?"fill-current":"")})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-6 border-y border-gray-800",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(f,{className:"text-3xl text-purple-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Free Delivery"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"text-3xl text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Secure Payment"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(m,{className:"text-3xl text-cyan-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Easy Returns"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["description","reviews"].map(t=>e.jsx("button",{onClick:()=>V(t),className:"px-6 py-2 rounded-xl font-semibold transition-all "+(G===t?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-gray-800 text-gray-400 hover:text-white"),children:"description"===t?"Description":"Reviews"},t))}),e.jsx("div",{className:"bg-gray-800/30 rounded-2xl p-6",children:"description"===G?e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:i.description||"No description available."}),e.jsx(s,{to:`/products/${i._id}`,className:"text-purple-400 hover:text-purple-300 flex items-center gap-2",children:"View Full Details â†’"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"text-gray-400"}),e.jsxs("span",{className:"text-gray-400",children:[Z," customer reviews"]})]}),e.jsx(s,{to:`/products/${i._id}#reviews`,className:"text-purple-400 hover:text-purple-300 flex items-center gap-2",children:"Read All Reviews â†’"})]})})]}),o.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Related Products"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.slice(0,3).map(t=>{var a,s;return e.jsxs(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{l(),setTimeout(()=>{D(`/products/${t._id}`)},300)},className:"group relative rounded-xl overflow-hidden hover:shadow-lg hover:shadow-purple-500/30 transition-all cursor-pointer",children:[e.jsx("img",{src:null==(s=null==(a=t.images)?void 0:a[0])?void 0:s.url,alt:t.name,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"absolute bottom-2 left-2 right-2",children:[e.jsx("p",{className:"text-white text-sm font-semibold truncate",children:t.name}),e.jsxs("p",{className:"text-purple-400 text-xs",children:["$",t.price]})]})})]},t._id)})})]})]})]})]})]})})})},_=({intensity:a="medium"})=>{const s=t.useRef(null),i="low"===a?15:"high"===a?35:25;return t.useEffect(()=>{const e=s.current;if(!e)return;const t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;class a{constructor(){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.initialY=this.y,this.size=4*Math.random()+2;const t=["#a78bfa","#c084fc","#e879f9","#60a5fa","#38bdf8","#22d3ee","#34d399","#10b981","#14b8a6","#fbbf24","#f59e0b","#fb923c","#f472b6","#ec4899","#db2777"];this.color=t[Math.floor(Math.random()*t.length)];const a=["circle","star","sparkle","diamond","heart"];this.type=a[Math.floor(Math.random()*a.length)],this.floatSpeed=.002+.003*Math.random(),this.floatAmount=15+25*Math.random(),this.floatPhase=Math.random()*Math.PI*2,this.driftSpeed=.05*(Math.random()-.5),this.initialX=this.x,this.driftAmount=20+30*Math.random(),this.driftPhase=Math.random()*Math.PI*2,this.opacitySpeed=.001+.002*Math.random(),this.opacityPhase=Math.random()*Math.PI*2,this.minOpacity=.2,this.maxOpacity=.6,this.rotation=0,this.rotationSpeed=.02*(Math.random()-.5),this.glowSize=10+15*Math.random()}update(){this.floatPhase+=this.floatSpeed,this.y=this.initialY+Math.sin(this.floatPhase)*this.floatAmount,this.driftPhase+=this.driftSpeed,this.x=this.initialX+Math.sin(this.driftPhase)*this.driftAmount,this.opacityPhase+=this.opacitySpeed,this.opacity=this.minOpacity+(Math.sin(this.opacityPhase)+1)/2*(this.maxOpacity-this.minOpacity),this.rotation+=this.rotationSpeed}drawCircle(){t.beginPath(),t.arc(0,0,this.size,0,2*Math.PI),t.fillStyle=this.color,t.fill()}drawStar(){const e=this.size,a=this.size/2;t.beginPath();for(let s=0;s<10;s++){const i=s%2==0?e:a,r=s*Math.PI/5,l=Math.cos(r)*i,o=Math.sin(r)*i;0===s?t.moveTo(l,o):t.lineTo(l,o)}t.closePath(),t.fillStyle=this.color,t.fill()}drawSparkle(){const e=1.5*this.size;t.strokeStyle=this.color,t.lineWidth=1.5,t.lineCap="round",t.beginPath(),t.moveTo(0,-e),t.lineTo(0,e),t.stroke(),t.beginPath(),t.moveTo(-e,0),t.lineTo(e,0),t.stroke();const a=.7*e;t.beginPath(),t.moveTo(-a,-a),t.lineTo(a,a),t.stroke(),t.beginPath(),t.moveTo(a,-a),t.lineTo(-a,a),t.stroke(),t.beginPath(),t.arc(0,0,this.size/2,0,2*Math.PI),t.fillStyle=this.color,t.fill()}drawDiamond(){t.beginPath(),t.moveTo(0,-this.size),t.lineTo(this.size,0),t.lineTo(0,this.size),t.lineTo(-this.size,0),t.closePath(),t.fillStyle=this.color,t.fill()}drawHeart(){const e=this.size;t.beginPath(),t.moveTo(0,e/4),t.bezierCurveTo(-e,-e/2,1.5*-e,e/2,0,1.2*e),t.bezierCurveTo(1.5*e,e/2,e,-e/2,0,e/4),t.fillStyle=this.color,t.fill()}draw(){switch(t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.globalAlpha=this.opacity,t.shadowBlur=this.glowSize,t.shadowColor=this.color,this.type){case"circle":this.drawCircle();break;case"star":this.drawStar();break;case"sparkle":this.drawSparkle();break;case"diamond":this.drawDiamond();break;case"heart":this.drawHeart()}t.restore()}}const r=Array.from({length:i},()=>new a);let l;const o=()=>{t.clearRect(0,0,e.width,e.height),r.forEach(e=>{e.update(),e.draw()}),l=requestAnimationFrame(o)};o();const n=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),cancelAnimationFrame(l)}},[i]),e.jsxs(e.Fragment,{children:[e.jsx("canvas",{ref:s,className:"absolute inset-0 pointer-events-none",style:{opacity:.7}}),e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:8}).map((t,a)=>e.jsx(E.div,{className:"absolute",style:{left:(12*a+5)%95+"%",top:(15*a+10)%90+"%"},animate:{y:[0,-20,0],x:[0,10*Math.sin(a),0],rotate:[0,360],scale:[1,1.2,1]},transition:{duration:8+.5*a,repeat:1/0,ease:"easeInOut",delay:.3*a},children:e.jsx("div",{className:"w-6 h-6 rounded-full",style:{background:`radial-gradient(circle, ${["#a78bfa","#60a5fa","#34d399","#fbbf24","#f472b6","#c084fc","#38bdf8","#10b981"][a]}dd, transparent)`,boxShadow:`0 0 20px ${["#a78bfa","#60a5fa","#34d399","#fbbf24","#f472b6","#c084fc","#38bdf8","#10b981"][a]}`}})},`magic-${a}`))}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:4}).map((t,a)=>e.jsx(E.div,{className:"absolute w-96 h-96 rounded-full blur-3xl",style:{background:`radial-gradient(circle, ${["#a78bfa","#60a5fa","#34d399","#fbbf24"][a]}15, transparent)`,left:30*a+"%",top:25*a+"%"},animate:{scale:[1,1.3,1],opacity:[.2,.4,.2],x:[0,50,0],y:[0,-30,0]},transition:{duration:10+2*a,repeat:1/0,ease:"easeInOut"}},`orb-${a}`))}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:12}).map((t,a)=>e.jsx(E.div,{className:"absolute text-xl",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",color:["#a78bfa","#60a5fa","#34d399","#fbbf24","#f472b6"][a%5],opacity:.3},animate:{y:[0,-15,0],rotate:[0,180,360],scale:[.8,1.2,.8]},transition:{duration:6+.3*a,repeat:1/0,ease:"easeInOut",delay:.2*a},children:"âœ¨"},`star-${a}`))})]})},W=()=>{const a=T(),[s]=i(),{products:r=[],loading:o,error:d}=$(e=>e.products),[x,h]=t.useState("grid"),[m,p]=t.useState(!1),[u,g]=t.useState([]),[b,f]=t.useState(null),[y,v]=t.useState({category:s.get("category")||"",minPrice:s.get("minPrice")?Number(s.get("minPrice")):"",maxPrice:s.get("maxPrice")?Number(s.get("maxPrice")):"",rating:parseFloat(s.get("rating"))||0,search:s.get("search")||"",sort:s.get("sort")||"newest"});t.useEffect(()=>{a(k())},[a]),t.useEffect(()=>{if(0===r.length)return void g([]);let e=[...r];if(y.category&&(e=e.filter(e=>{var t;const a="object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category;return(null==a?void 0:a.toLowerCase())===y.category.toLowerCase()})),""!==y.minPrice&&(e=e.filter(e=>e.price>=y.minPrice)),""!==y.maxPrice&&(e=e.filter(e=>e.price<=y.maxPrice)),y.rating>0&&(e=e.filter(e=>{const t=e.ratings||e.rating||0;return Math.floor(t)===y.rating})),y.search){const t=y.search.toLowerCase();e=e.filter(e=>{var a;const s="object"==typeof e.category?null==(a=e.category)?void 0:a.name:e.category;return e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||s&&s.toLowerCase().includes(t)})}switch(y.sort){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"rating":e.sort((e,t)=>t.rating-e.rating);break;case"popular":e.sort((e,t)=>(t.reviews||0)-(e.reviews||0))}g(e)},[y,r]);const j=e=>{v(e)},w=()=>{v({category:"",minPrice:"",maxPrice:"",rating:0,search:"",sort:"newest"})},N=[y.category,y.minPrice,y.maxPrice,y.rating,y.search].filter(e=>e&&0!==e).length;return o&&0===u.length?e.jsx(P,{text:"Loading magical products..."}):e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx("title",{children:"Products - NexusMart | Explore Magical Collection"}),e.jsx("meta",{name:"description",content:"Browse our extensive collection of magical products with AI-powered recommendations."})]}),e.jsxs("div",{className:"min-h-screen relative",children:[e.jsx("div",{className:"fixed inset-0 -z-10",children:e.jsx(_,{intensity:"medium"})}),e.jsx(R,{}),e.jsxs("div",{className:"relative py-16 cyber-grid",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/50 to-gray-950"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",style:{fontFamily:"Orbitron, sans-serif"},children:e.jsx("span",{className:"gradient-text",children:"Explore Products"})}),e.jsxs("p",{className:"text-xl text-purple-300/70 mb-8",children:["Discover ",u.length," magical items in our collection"]}),e.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-2xl text-purple-400 z-30 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Search for products...",value:y.search,onChange:e=>v({...y,search:e.target.value}),className:"w-full pl-16 pr-6 py-5 bg-gray-900/50 border-2 border-purple-500/30 rounded-2xl\r\n                             text-white text-lg placeholder-purple-400/50\r\n                             focus:border-cyan-500 focus:outline-none\r\n                             transition-all duration-300 backdrop-blur-sm relative z-20 cursor-text",style:{pointerEvents:"auto"}})]})})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 glass-card p-4 rounded-2xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(l,{variant:"glass",onClick:()=>p(!m),icon:S,className:"relative",children:["Filters",N>0&&e.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-br from-pink-500 to-red-500 \r\n                                   text-white text-xs rounded-full flex items-center justify-center font-bold\r\n                                   shadow-lg shadow-pink-500/50",children:N})]}),N>0&&e.jsx(l,{variant:"ghost",onClick:w,icon:c,size:"sm",children:"Clear All"}),e.jsxs("span",{className:"text-purple-300/70",children:[u.length," Products Found"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:y.sort,onChange:e=>v({...y,sort:e.target.value}),className:"pl-4 pr-10 py-3 bg-gray-900/50 border-2 border-purple-500/30 rounded-xl\r\n                             text-purple-300 appearance-none cursor-pointer\r\n                             focus:border-cyan-500 focus:outline-none\r\n                             transition-all duration-300 relative z-10",style:{pointerEvents:"auto"},children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"rating",children:"Top Rated"})]}),e.jsx(n,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-400 pointer-events-none z-20"})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-1 bg-gray-900/50 border border-purple-500/30 rounded-xl",children:[e.jsx("button",{onClick:()=>h("grid"),className:"p-3 rounded-lg transition-all duration-300 "+("grid"===x?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"text-purple-400 hover:text-cyan-400"),children:e.jsx(z,{className:"text-xl"})}),e.jsx("button",{onClick:()=>h("list"),className:"p-3 rounded-lg transition-all duration-300 "+("list"===x?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"text-purple-400 hover:text-cyan-400"),children:e.jsx(F,{className:"text-xl"})})]})]})]})}),e.jsx(H,{children:m&&e.jsxs(e.Fragment,{children:[e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(!1),className:"fixed inset-0 bg-gray-950/80 backdrop-blur-sm z-40 lg:hidden"}),e.jsx(E.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},className:"fixed left-0 top-0 bottom-0 w-80 z-50 lg:hidden",children:e.jsxs("div",{className:"h-full glass-card rounded-r-3xl p-6 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold gradient-text",style:{fontFamily:"Orbitron, sans-serif"},children:"Filters"}),e.jsx("button",{onClick:()=>p(!1),className:"text-purple-300 hover:text-cyan-400",children:e.jsx(c,{className:"text-2xl"})})]}),e.jsx(I,{filters:y,onFilterChange:j,onClearFilters:w,products:r})]})})]})}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"hidden lg:block",children:e.jsxs("div",{className:"glass-card p-6 rounded-2xl sticky top-24",children:[e.jsx("h3",{className:"text-xl font-bold gradient-text mb-6",style:{fontFamily:"Orbitron, sans-serif"},children:"Filters"}),e.jsx(I,{filters:y,onFilterChange:j,onClearFilters:w,products:r})]})}),e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"lg:col-span-3",children:o?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"inline-block w-16 h-16 border-4 border-purple-500 border-t-cyan-500 rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-purple-300",children:"Loading magical products..."})]}):0===u.length?e.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-card p-16 rounded-2xl text-center",children:[e.jsx("div",{className:"text-8xl mb-6",children:"ðŸ”"}),e.jsx("h3",{className:"text-3xl font-bold gradient-text mb-4",style:{fontFamily:"Orbitron, sans-serif"},children:"No Products Found"}),e.jsx("p",{className:"text-purple-300/70 mb-8",children:"Try adjusting your filters or search terms"}),e.jsx(l,{variant:"neon",onClick:w,children:"Clear Filters"})]}):e.jsx(A,{products:u,loading:o,onQuickView:e=>{f(e)}})})]})]}),b&&e.jsx(D,{product:b,onClose:()=>f(null),relatedProducts:(O=b,O?u.filter(e=>{var t,a;return e._id!==O._id&&("object"==typeof e.category?null==(t=e.category)?void 0:t.name:e.category)===("object"==typeof O.category?null==(a=O.category)?void 0:a.name:O.category)}).slice(0,6):[])})]})]});var O};export{W as default};
