# Railway Configuration for Backend Deployment

# Railway will auto-detect Node.js and use these settings

# Build Configuration
[build]
builder = "NIXPACKS"

[build.env]
NODE_VERSION = "18"
NPM_VERSION = "9"

# Start Command
[deploy]
startCommand = "npm start"
healthcheckPath = "/api/health"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Environment Variables (Set in Railway Dashboard)
# MONGODB_URI
# JWT_SECRET
# JWT_EXPIRE
# STRIPE_SECRET_KEY
# STRIPE_WEBHOOK_SECRET
# RAZORPAY_KEY_ID
# RAZORPAY_KEY_SECRET
# CLOUDINARY_CLOUD_NAME
# CLOUDINARY_API_KEY
# CLOUDINARY_API_SECRET
# EMAIL_HOST
# EMAIL_PORT
# EMAIL_USER
# EMAIL_PASS
# CLIENT_URL
# NODE_ENV=production
# PORT=5000

# Networking
[network]
internalPort = 5000

# Scaling
[scaling]
minInstances = 1
maxInstances = 3

# Resources
[resources]
memory = 2048
cpu = 1
